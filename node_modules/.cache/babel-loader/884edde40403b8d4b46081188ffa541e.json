{"ast":null,"code":"\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.onGifHover = exports.onGifClick = exports.onGifSeen = void 0;\n\nvar js_analytics_1 = require(\"@giphy/js-analytics\");\n\nvar js_util_1 = require(\"@giphy/js-util\");\n\nvar firePingback = function (actionType) {\n  return function (gif, userId, target, attributes) {\n    if (attributes === void 0) {\n      attributes = {};\n    }\n\n    if (!gif.analytics_response_payload) {\n      return;\n    }\n\n    js_analytics_1.pingback({\n      analyticsResponsePayload: gif.analytics_response_payload,\n      userId: userId,\n      actionType: actionType,\n      attributes: __assign({\n        position: JSON.stringify(js_util_1.getClientRect(target))\n      }, attributes)\n    });\n  };\n}; // no target on this one\n\n\nexports.onGifSeen = function (gif, userId, position, attributes) {\n  if (attributes === void 0) {\n    attributes = {};\n  }\n\n  if (!gif.analytics_response_payload) {\n    return;\n  }\n\n  js_analytics_1.pingback({\n    analyticsResponsePayload: gif.analytics_response_payload,\n    userId: userId,\n    actionType: 'SEEN',\n    attributes: __assign({\n      position: JSON.stringify(position)\n    }, attributes)\n  });\n};\n\nexports.onGifClick = firePingback('CLICK');\nexports.onGifHover = firePingback('HOVER');","map":{"version":3,"sources":["../../src/util/pingback.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA,IAAA,cAAA,GAAA,OAAA,CAAA,qBAAA,CAAA;;AAEA,IAAA,SAAA,GAAA,OAAA,CAAA,gBAAA,CAAA;;AAEA,IAAM,YAAY,GAAG,UAAC,UAAD,EAA+B;AAAK,SAAA,UACrD,GADqD,EAErD,MAFqD,EAGrD,MAHqD,EAIrD,UAJqD,EAIlB;AAAnC,QAAA,UAAA,KAAA,KAAA,CAAA,EAAA;AAAA,MAAA,UAAA,GAAA,EAAA;AAAmC;;AAEnC,QAAI,CAAC,GAAG,CAAC,0BAAT,EAAqC;AACjC;AACH;;AACD,IAAA,cAAA,CAAA,QAAA,CAAS;AACL,MAAA,wBAAwB,EAAE,GAAG,CAAC,0BADzB;AAEL,MAAA,MAAM,EAAA,MAFD;AAGL,MAAA,UAAU,EAAA,UAHL;AAIL,MAAA,UAAU,EAAA,QAAA,CAAA;AAAI,QAAA,QAAQ,EAAE,IAAI,CAAC,SAAL,CAAe,SAAA,CAAA,aAAA,CAAc,MAAd,CAAf;AAAd,OAAA,EAAwD,UAAxD;AAJL,KAAT;AATqD,GAAA;AAexD,CAfD,C,CAiBA;;;AACa,OAAA,CAAA,SAAA,GAAY,UACrB,GADqB,EAErB,MAFqB,EAGrB,QAHqB,EAIrB,UAJqB,EAIc;AAAnC,MAAA,UAAA,KAAA,KAAA,CAAA,EAAA;AAAA,IAAA,UAAA,GAAA,EAAA;AAAmC;;AAEnC,MAAI,CAAC,GAAG,CAAC,0BAAT,EAAqC;AACjC;AACH;;AACD,EAAA,cAAA,CAAA,QAAA,CAAS;AACL,IAAA,wBAAwB,EAAE,GAAG,CAAC,0BADzB;AAEL,IAAA,MAAM,EAAA,MAFD;AAGL,IAAA,UAAU,EAAE,MAHP;AAIL,IAAA,UAAU,EAAA,QAAA,CAAA;AAAI,MAAA,QAAQ,EAAE,IAAI,CAAC,SAAL,CAAe,QAAf;AAAd,KAAA,EAA2C,UAA3C;AAJL,GAAT;AAMH,CAfY;;AAiBA,OAAA,CAAA,UAAA,GAAa,YAAY,CAAC,OAAD,CAAzB;AACA,OAAA,CAAA,UAAA,GAAa,YAAY,CAAC,OAAD,CAAzB","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.onGifHover = exports.onGifClick = exports.onGifSeen = void 0;\nvar js_analytics_1 = require(\"@giphy/js-analytics\");\nvar js_util_1 = require(\"@giphy/js-util\");\nvar firePingback = function (actionType) { return function (gif, userId, target, attributes) {\n    if (attributes === void 0) { attributes = {}; }\n    if (!gif.analytics_response_payload) {\n        return;\n    }\n    js_analytics_1.pingback({\n        analyticsResponsePayload: gif.analytics_response_payload,\n        userId: userId,\n        actionType: actionType,\n        attributes: __assign({ position: JSON.stringify(js_util_1.getClientRect(target)) }, attributes),\n    });\n}; };\n// no target on this one\nexports.onGifSeen = function (gif, userId, position, attributes) {\n    if (attributes === void 0) { attributes = {}; }\n    if (!gif.analytics_response_payload) {\n        return;\n    }\n    js_analytics_1.pingback({\n        analyticsResponsePayload: gif.analytics_response_payload,\n        userId: userId,\n        actionType: 'SEEN',\n        attributes: __assign({ position: JSON.stringify(position) }, attributes),\n    });\n};\nexports.onGifClick = firePingback('CLICK');\nexports.onGifHover = firePingback('HOVER');\n//# sourceMappingURL=pingback.js.map"]},"metadata":{},"sourceType":"script"}