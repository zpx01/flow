{"ast":null,"code":"import { useChannelStateContext } from '../../../context/ChannelStateContext';\nimport { useChatContext } from '../../../context/ChatContext';\nexport var useUserRole = function (message, onlySenderCanEdit, disableQuotedMessages) {\n  var _a, _b, _c;\n\n  var _d = useChannelStateContext(),\n      channel = _d.channel,\n      channelConfig = _d.channelConfig;\n\n  var client = useChatContext().client;\n  var isAdmin = ((_a = client.user) === null || _a === void 0 ? void 0 : _a.role) === 'admin' || channel.state.membership.role === 'admin';\n  var isMyMessage = client.userID === ((_b = message.user) === null || _b === void 0 ? void 0 : _b.id);\n  var isOwner = channel.state.membership.role === 'owner';\n  var isModerator = ((_c = client.user) === null || _c === void 0 ? void 0 : _c.role) === 'channel_moderator' || channel.state.membership.role === 'channel_moderator' || channel.state.membership.role === 'moderator';\n  var canEdit = isMyMessage || !onlySenderCanEdit && (isModerator || isAdmin);\n  var canDelete = isMyMessage || isModerator || isAdmin;\n  var canFlag = !isMyMessage;\n  var canMute = !isMyMessage && (channelConfig === null || channelConfig === void 0 ? void 0 : channelConfig.mutes);\n  var canQuote = !disableQuotedMessages;\n  var canReact = channelConfig === null || channelConfig === void 0 ? void 0 : channelConfig.reactions;\n  var canReply = channelConfig === null || channelConfig === void 0 ? void 0 : channelConfig.replies;\n  return {\n    canDelete: canDelete,\n    canEdit: canEdit,\n    canFlag: canFlag,\n    canMute: canMute,\n    canQuote: canQuote,\n    canReact: canReact,\n    canReply: canReply,\n    isAdmin: isAdmin,\n    isModerator: isModerator,\n    isMyMessage: isMyMessage,\n    isOwner: isOwner\n  };\n};","map":{"version":3,"sources":["/Users/zeeshanpatel/flow/node_modules/stream-chat-react/dist/components/Message/hooks/useUserRole.js"],"names":["useChannelStateContext","useChatContext","useUserRole","message","onlySenderCanEdit","disableQuotedMessages","_a","_b","_c","_d","channel","channelConfig","client","isAdmin","user","role","state","membership","isMyMessage","userID","id","isOwner","isModerator","canEdit","canDelete","canFlag","canMute","mutes","canQuote","canReact","reactions","canReply","replies"],"mappings":"AAAA,SAASA,sBAAT,QAAuC,sCAAvC;AACA,SAASC,cAAT,QAA+B,8BAA/B;AACA,OAAO,IAAIC,WAAW,GAAG,UAAUC,OAAV,EAAmBC,iBAAnB,EAAsCC,qBAAtC,EAA6D;AAClF,MAAIC,EAAJ,EAAQC,EAAR,EAAYC,EAAZ;;AACA,MAAIC,EAAE,GAAGT,sBAAsB,EAA/B;AAAA,MAAmCU,OAAO,GAAGD,EAAE,CAACC,OAAhD;AAAA,MAAyDC,aAAa,GAAGF,EAAE,CAACE,aAA5E;;AACA,MAAIC,MAAM,GAAGX,cAAc,GAAGW,MAA9B;AACA,MAAIC,OAAO,GAAG,CAAC,CAACP,EAAE,GAAGM,MAAM,CAACE,IAAb,MAAuB,IAAvB,IAA+BR,EAAE,KAAK,KAAK,CAA3C,GAA+C,KAAK,CAApD,GAAwDA,EAAE,CAACS,IAA5D,MAAsE,OAAtE,IAAiFL,OAAO,CAACM,KAAR,CAAcC,UAAd,CAAyBF,IAAzB,KAAkC,OAAjI;AACA,MAAIG,WAAW,GAAGN,MAAM,CAACO,MAAP,MAAmB,CAACZ,EAAE,GAAGJ,OAAO,CAACW,IAAd,MAAwB,IAAxB,IAAgCP,EAAE,KAAK,KAAK,CAA5C,GAAgD,KAAK,CAArD,GAAyDA,EAAE,CAACa,EAA/E,CAAlB;AACA,MAAIC,OAAO,GAAGX,OAAO,CAACM,KAAR,CAAcC,UAAd,CAAyBF,IAAzB,KAAkC,OAAhD;AACA,MAAIO,WAAW,GAAG,CAAC,CAACd,EAAE,GAAGI,MAAM,CAACE,IAAb,MAAuB,IAAvB,IAA+BN,EAAE,KAAK,KAAK,CAA3C,GAA+C,KAAK,CAApD,GAAwDA,EAAE,CAACO,IAA5D,MAAsE,mBAAtE,IACdL,OAAO,CAACM,KAAR,CAAcC,UAAd,CAAyBF,IAAzB,KAAkC,mBADpB,IAEdL,OAAO,CAACM,KAAR,CAAcC,UAAd,CAAyBF,IAAzB,KAAkC,WAFtC;AAGA,MAAIQ,OAAO,GAAGL,WAAW,IAAK,CAACd,iBAAD,KAAuBkB,WAAW,IAAIT,OAAtC,CAA9B;AACA,MAAIW,SAAS,GAAGN,WAAW,IAAII,WAAf,IAA8BT,OAA9C;AACA,MAAIY,OAAO,GAAG,CAACP,WAAf;AACA,MAAIQ,OAAO,GAAG,CAACR,WAAD,KAAiBP,aAAa,KAAK,IAAlB,IAA0BA,aAAa,KAAK,KAAK,CAAjD,GAAqD,KAAK,CAA1D,GAA8DA,aAAa,CAACgB,KAA7F,CAAd;AACA,MAAIC,QAAQ,GAAG,CAACvB,qBAAhB;AACA,MAAIwB,QAAQ,GAAGlB,aAAa,KAAK,IAAlB,IAA0BA,aAAa,KAAK,KAAK,CAAjD,GAAqD,KAAK,CAA1D,GAA8DA,aAAa,CAACmB,SAA3F;AACA,MAAIC,QAAQ,GAAGpB,aAAa,KAAK,IAAlB,IAA0BA,aAAa,KAAK,KAAK,CAAjD,GAAqD,KAAK,CAA1D,GAA8DA,aAAa,CAACqB,OAA3F;AACA,SAAO;AACHR,IAAAA,SAAS,EAAEA,SADR;AAEHD,IAAAA,OAAO,EAAEA,OAFN;AAGHE,IAAAA,OAAO,EAAEA,OAHN;AAIHC,IAAAA,OAAO,EAAEA,OAJN;AAKHE,IAAAA,QAAQ,EAAEA,QALP;AAMHC,IAAAA,QAAQ,EAAEA,QANP;AAOHE,IAAAA,QAAQ,EAAEA,QAPP;AAQHlB,IAAAA,OAAO,EAAEA,OARN;AASHS,IAAAA,WAAW,EAAEA,WATV;AAUHJ,IAAAA,WAAW,EAAEA,WAVV;AAWHG,IAAAA,OAAO,EAAEA;AAXN,GAAP;AAaH,CA9BM","sourcesContent":["import { useChannelStateContext } from '../../../context/ChannelStateContext';\nimport { useChatContext } from '../../../context/ChatContext';\nexport var useUserRole = function (message, onlySenderCanEdit, disableQuotedMessages) {\n    var _a, _b, _c;\n    var _d = useChannelStateContext(), channel = _d.channel, channelConfig = _d.channelConfig;\n    var client = useChatContext().client;\n    var isAdmin = ((_a = client.user) === null || _a === void 0 ? void 0 : _a.role) === 'admin' || channel.state.membership.role === 'admin';\n    var isMyMessage = client.userID === ((_b = message.user) === null || _b === void 0 ? void 0 : _b.id);\n    var isOwner = channel.state.membership.role === 'owner';\n    var isModerator = ((_c = client.user) === null || _c === void 0 ? void 0 : _c.role) === 'channel_moderator' ||\n        channel.state.membership.role === 'channel_moderator' ||\n        channel.state.membership.role === 'moderator';\n    var canEdit = isMyMessage || (!onlySenderCanEdit && (isModerator || isAdmin));\n    var canDelete = isMyMessage || isModerator || isAdmin;\n    var canFlag = !isMyMessage;\n    var canMute = !isMyMessage && (channelConfig === null || channelConfig === void 0 ? void 0 : channelConfig.mutes);\n    var canQuote = !disableQuotedMessages;\n    var canReact = channelConfig === null || channelConfig === void 0 ? void 0 : channelConfig.reactions;\n    var canReply = channelConfig === null || channelConfig === void 0 ? void 0 : channelConfig.replies;\n    return {\n        canDelete: canDelete,\n        canEdit: canEdit,\n        canFlag: canFlag,\n        canMute: canMute,\n        canQuote: canQuote,\n        canReact: canReact,\n        canReply: canReply,\n        isAdmin: isAdmin,\n        isModerator: isModerator,\n        isMyMessage: isMyMessage,\n        isOwner: isOwner,\n    };\n};\n"]},"metadata":{},"sourceType":"module"}