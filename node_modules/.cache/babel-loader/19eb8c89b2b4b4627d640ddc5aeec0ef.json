{"ast":null,"code":"/* eslint-disable no-param-reassign */\n\n/* eslint-disable radix */\n\n/* eslint-disable no-bitwise */\nexport function formatTime(second) {\n  var i = 0;\n  var h = 0;\n  var s = parseInt(second);\n\n  if (s >= 60) {\n    i = parseInt(s / 60);\n    s = parseInt(s % 60);\n\n    if (i >= 60) {\n      h = parseInt(i / 60);\n      i = parseInt(i % 60);\n    }\n  } // 补零\n\n\n  var zero = function zero(v) {\n    return v >> 0 < 10 ? \"0\".concat(v) : v;\n  };\n\n  if (h > 0) return [zero(h), zero(i), zero(s)].join(':');\n  return [zero(i), zero(s)].join(':');\n}\nexport function createRandomNum(minNum, maxNum) {\n  return parseInt(Math.random() * (maxNum - minNum + 1) + minNum, 10);\n}\nexport function distinct(array) {\n  return array.map(function (item) {\n    return JSON.stringify(item);\n  }).filter(function (item, idx, arr) {\n    return idx === arr.indexOf(item);\n  }).map(function (item) {\n    return JSON.parse(item);\n  });\n}\nexport var arrayEqual = function arrayEqual(arr1) {\n  return function (arr2) {\n    return JSON.stringify(arr1) === JSON.stringify(arr2);\n  };\n};\n\nvar s4 = function s4() {\n  return ((1 + Math.random()) * 0x10000 | 0).toString(16).substring(1);\n}; // Generate a pseudo-GUID by concatenating random hexadecimal.\n\n\nexport var uuId = function uuId() {\n  return \"\".concat(s4() + s4(), \"-\").concat(s4(), \"-\").concat(s4(), \"-\").concat(s4(), \"-\").concat(s4()).concat(s4()).concat(s4());\n};\nexport var isSafari = function isSafari() {\n  return /Safari/.test(navigator.userAgent) && !/Chrome/.test(navigator.userAgent);\n}; // https://stackoverflow.com/a/9039885/2789451\n\nexport function isIOS() {\n  return ['iPad Simulator', 'iPhone Simulator', 'iPod Simulator', 'iPad', 'iPhone', 'iPod'].includes(navigator.platform) || // iPad on iOS 13 detection\n  navigator.userAgent.includes('Mac') && 'ontouchend' in document;\n} // https://stackoverflow.com/questions/7451508/html5-audio-playback-with-fade-in-and-fade-out\n\nexport function swing(p) {\n  return 0.5 - Math.cos(p * Math.PI) / 2;\n}\nexport function adjustVolume(element, startVolume, endVolume) {\n  var _ref = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {},\n      _ref$duration = _ref.duration,\n      duration = _ref$duration === void 0 ? 1000 : _ref$duration,\n      _ref$easing = _ref.easing,\n      easing = _ref$easing === void 0 ? swing : _ref$easing,\n      _ref$interval = _ref.interval,\n      interval = _ref$interval === void 0 ? 13 : _ref$interval;\n\n  var callback = arguments.length > 4 ? arguments[4] : undefined;\n  var delta = endVolume - startVolume;\n\n  if (!delta || !duration || !easing || !interval || isIOS()) {\n    element.volume = endVolume;\n    callback();\n    return {\n      fadeInterval: undefined,\n      updateIntervalEndVolume: undefined\n    };\n  }\n\n  var ticks = Math.floor(duration / interval);\n  var tick = 1;\n\n  var updateIntervalEndVolume = function updateIntervalEndVolume(newVolume) {\n    endVolume = newVolume;\n  };\n\n  var timer = setInterval(function () {\n    // End volume may have changed in middle of fading\n    var newDelta = endVolume - startVolume;\n\n    if (newDelta !== delta) {\n      delta = newDelta;\n    }\n\n    element.volume = startVolume + easing(tick / ticks) * delta;\n\n    if (++tick >= ticks) {\n      element.volume = endVolume;\n      clearInterval(timer);\n      callback();\n    }\n  }, interval);\n  return {\n    fadeInterval: timer,\n    updateIntervalEndVolume: updateIntervalEndVolume\n  };\n}","map":{"version":3,"sources":["/Users/zeeshanpatel/flow/node_modules/react-jinke-music-player/es/utils.js"],"names":["formatTime","second","i","h","s","parseInt","zero","v","concat","join","createRandomNum","minNum","maxNum","Math","random","distinct","array","map","item","JSON","stringify","filter","idx","arr","indexOf","parse","arrayEqual","arr1","arr2","s4","toString","substring","uuId","isSafari","test","navigator","userAgent","isIOS","includes","platform","document","swing","p","cos","PI","adjustVolume","element","startVolume","endVolume","_ref","arguments","length","undefined","_ref$duration","duration","_ref$easing","easing","_ref$interval","interval","callback","delta","volume","fadeInterval","updateIntervalEndVolume","ticks","floor","tick","newVolume","timer","setInterval","newDelta","clearInterval"],"mappings":"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","sourcesContent":["/* eslint-disable no-param-reassign */\n\n/* eslint-disable radix */\n\n/* eslint-disable no-bitwise */\nexport function formatTime(second) {\n  var i = 0;\n  var h = 0;\n  var s = parseInt(second);\n\n  if (s >= 60) {\n    i = parseInt(s / 60);\n    s = parseInt(s % 60);\n\n    if (i >= 60) {\n      h = parseInt(i / 60);\n      i = parseInt(i % 60);\n    }\n  } // 补零\n\n\n  var zero = function zero(v) {\n    return v >> 0 < 10 ? \"0\".concat(v) : v;\n  };\n\n  if (h > 0) return [zero(h), zero(i), zero(s)].join(':');\n  return [zero(i), zero(s)].join(':');\n}\nexport function createRandomNum(minNum, maxNum) {\n  return parseInt(Math.random() * (maxNum - minNum + 1) + minNum, 10);\n}\nexport function distinct(array) {\n  return array.map(function (item) {\n    return JSON.stringify(item);\n  }).filter(function (item, idx, arr) {\n    return idx === arr.indexOf(item);\n  }).map(function (item) {\n    return JSON.parse(item);\n  });\n}\nexport var arrayEqual = function arrayEqual(arr1) {\n  return function (arr2) {\n    return JSON.stringify(arr1) === JSON.stringify(arr2);\n  };\n};\n\nvar s4 = function s4() {\n  return ((1 + Math.random()) * 0x10000 | 0).toString(16).substring(1);\n}; // Generate a pseudo-GUID by concatenating random hexadecimal.\n\n\nexport var uuId = function uuId() {\n  return \"\".concat(s4() + s4(), \"-\").concat(s4(), \"-\").concat(s4(), \"-\").concat(s4(), \"-\").concat(s4()).concat(s4()).concat(s4());\n};\nexport var isSafari = function isSafari() {\n  return /Safari/.test(navigator.userAgent) && !/Chrome/.test(navigator.userAgent);\n}; // https://stackoverflow.com/a/9039885/2789451\n\nexport function isIOS() {\n  return ['iPad Simulator', 'iPhone Simulator', 'iPod Simulator', 'iPad', 'iPhone', 'iPod'].includes(navigator.platform) || // iPad on iOS 13 detection\n  navigator.userAgent.includes('Mac') && 'ontouchend' in document;\n} // https://stackoverflow.com/questions/7451508/html5-audio-playback-with-fade-in-and-fade-out\n\nexport function swing(p) {\n  return 0.5 - Math.cos(p * Math.PI) / 2;\n}\nexport function adjustVolume(element, startVolume, endVolume) {\n  var _ref = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {},\n      _ref$duration = _ref.duration,\n      duration = _ref$duration === void 0 ? 1000 : _ref$duration,\n      _ref$easing = _ref.easing,\n      easing = _ref$easing === void 0 ? swing : _ref$easing,\n      _ref$interval = _ref.interval,\n      interval = _ref$interval === void 0 ? 13 : _ref$interval;\n\n  var callback = arguments.length > 4 ? arguments[4] : undefined;\n  var delta = endVolume - startVolume;\n\n  if (!delta || !duration || !easing || !interval || isIOS()) {\n    element.volume = endVolume;\n    callback();\n    return {\n      fadeInterval: undefined,\n      updateIntervalEndVolume: undefined\n    };\n  }\n\n  var ticks = Math.floor(duration / interval);\n  var tick = 1;\n\n  var updateIntervalEndVolume = function updateIntervalEndVolume(newVolume) {\n    endVolume = newVolume;\n  };\n\n  var timer = setInterval(function () {\n    // End volume may have changed in middle of fading\n    var newDelta = endVolume - startVolume;\n\n    if (newDelta !== delta) {\n      delta = newDelta;\n    }\n\n    element.volume = startVolume + easing(tick / ticks) * delta;\n\n    if (++tick >= ticks) {\n      element.volume = endVolume;\n      clearInterval(timer);\n      callback();\n    }\n  }, interval);\n  return {\n    fadeInterval: timer,\n    updateIntervalEndVolume: updateIntervalEndVolume\n  };\n}"]},"metadata":{},"sourceType":"module"}