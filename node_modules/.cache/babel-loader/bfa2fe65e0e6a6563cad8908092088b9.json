{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar react_1 = require(\"react\");\n\nvar useUnmount_1 = tslib_1.__importDefault(require(\"./useUnmount\"));\n\nvar useThrottle = function useThrottle(value, ms) {\n  if (ms === void 0) {\n    ms = 200;\n  }\n\n  var _a = react_1.useState(value),\n      state = _a[0],\n      setState = _a[1];\n\n  var timeout = react_1.useRef();\n  var nextValue = react_1.useRef(null);\n  var hasNextValue = react_1.useRef(0);\n  react_1.useEffect(function () {\n    if (!timeout.current) {\n      setState(value);\n\n      var timeoutCallback_1 = function timeoutCallback_1() {\n        if (hasNextValue.current) {\n          hasNextValue.current = false;\n          setState(nextValue.current);\n          timeout.current = setTimeout(timeoutCallback_1, ms);\n        } else {\n          timeout.current = undefined;\n        }\n      };\n\n      timeout.current = setTimeout(timeoutCallback_1, ms);\n    } else {\n      nextValue.current = value;\n      hasNextValue.current = true;\n    }\n  }, [value]);\n  useUnmount_1.default(function () {\n    timeout.current && clearTimeout(timeout.current);\n  });\n  return state;\n};\n\nexports.default = useThrottle;","map":{"version":3,"sources":["/Users/zeeshanpatel/flow/node_modules/react-use/lib/useThrottle.js"],"names":["Object","defineProperty","exports","value","tslib_1","require","react_1","useUnmount_1","__importDefault","useThrottle","ms","_a","useState","state","setState","timeout","useRef","nextValue","hasNextValue","useEffect","current","timeoutCallback_1","setTimeout","undefined","default","clearTimeout"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;;AACA,IAAIC,OAAO,GAAGC,OAAO,CAAC,OAAD,CAArB;;AACA,IAAIC,OAAO,GAAGD,OAAO,CAAC,OAAD,CAArB;;AACA,IAAIE,YAAY,GAAGH,OAAO,CAACI,eAAR,CAAwBH,OAAO,CAAC,cAAD,CAA/B,CAAnB;;AACA,IAAII,WAAW,GAAG,SAAdA,WAAc,CAAUN,KAAV,EAAiBO,EAAjB,EAAqB;AACnC,MAAIA,EAAE,KAAK,KAAK,CAAhB,EAAmB;AAAEA,IAAAA,EAAE,GAAG,GAAL;AAAW;;AAChC,MAAIC,EAAE,GAAGL,OAAO,CAACM,QAAR,CAAiBT,KAAjB,CAAT;AAAA,MAAkCU,KAAK,GAAGF,EAAE,CAAC,CAAD,CAA5C;AAAA,MAAiDG,QAAQ,GAAGH,EAAE,CAAC,CAAD,CAA9D;;AACA,MAAII,OAAO,GAAGT,OAAO,CAACU,MAAR,EAAd;AACA,MAAIC,SAAS,GAAGX,OAAO,CAACU,MAAR,CAAe,IAAf,CAAhB;AACA,MAAIE,YAAY,GAAGZ,OAAO,CAACU,MAAR,CAAe,CAAf,CAAnB;AACAV,EAAAA,OAAO,CAACa,SAAR,CAAkB,YAAY;AAC1B,QAAI,CAACJ,OAAO,CAACK,OAAb,EAAsB;AAClBN,MAAAA,QAAQ,CAACX,KAAD,CAAR;;AACA,UAAIkB,iBAAiB,GAAG,SAApBA,iBAAoB,GAAY;AAChC,YAAIH,YAAY,CAACE,OAAjB,EAA0B;AACtBF,UAAAA,YAAY,CAACE,OAAb,GAAuB,KAAvB;AACAN,UAAAA,QAAQ,CAACG,SAAS,CAACG,OAAX,CAAR;AACAL,UAAAA,OAAO,CAACK,OAAR,GAAkBE,UAAU,CAACD,iBAAD,EAAoBX,EAApB,CAA5B;AACH,SAJD,MAKK;AACDK,UAAAA,OAAO,CAACK,OAAR,GAAkBG,SAAlB;AACH;AACJ,OATD;;AAUAR,MAAAA,OAAO,CAACK,OAAR,GAAkBE,UAAU,CAACD,iBAAD,EAAoBX,EAApB,CAA5B;AACH,KAbD,MAcK;AACDO,MAAAA,SAAS,CAACG,OAAV,GAAoBjB,KAApB;AACAe,MAAAA,YAAY,CAACE,OAAb,GAAuB,IAAvB;AACH;AACJ,GAnBD,EAmBG,CAACjB,KAAD,CAnBH;AAoBAI,EAAAA,YAAY,CAACiB,OAAb,CAAqB,YAAY;AAC7BT,IAAAA,OAAO,CAACK,OAAR,IAAmBK,YAAY,CAACV,OAAO,CAACK,OAAT,CAA/B;AACH,GAFD;AAGA,SAAOP,KAAP;AACH,CA9BD;;AA+BAX,OAAO,CAACsB,OAAR,GAAkBf,WAAlB","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar react_1 = require(\"react\");\nvar useUnmount_1 = tslib_1.__importDefault(require(\"./useUnmount\"));\nvar useThrottle = function (value, ms) {\n    if (ms === void 0) { ms = 200; }\n    var _a = react_1.useState(value), state = _a[0], setState = _a[1];\n    var timeout = react_1.useRef();\n    var nextValue = react_1.useRef(null);\n    var hasNextValue = react_1.useRef(0);\n    react_1.useEffect(function () {\n        if (!timeout.current) {\n            setState(value);\n            var timeoutCallback_1 = function () {\n                if (hasNextValue.current) {\n                    hasNextValue.current = false;\n                    setState(nextValue.current);\n                    timeout.current = setTimeout(timeoutCallback_1, ms);\n                }\n                else {\n                    timeout.current = undefined;\n                }\n            };\n            timeout.current = setTimeout(timeoutCallback_1, ms);\n        }\n        else {\n            nextValue.current = value;\n            hasNextValue.current = true;\n        }\n    }, [value]);\n    useUnmount_1.default(function () {\n        timeout.current && clearTimeout(timeout.current);\n    });\n    return state;\n};\nexports.default = useThrottle;\n"]},"metadata":{},"sourceType":"script"}