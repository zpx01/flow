{"ast":null,"code":"import React from 'react';\nimport { Avatar as DefaultAvatar } from '../Avatar';\nimport { useChannelStateContext } from '../../context/ChannelStateContext';\nimport { useChatContext } from '../../context/ChatContext';\nimport { useTypingContext } from '../../context/TypingContext';\n/**\n * TypingIndicator lists users currently typing, it needs to be a child of Channel component\n */\n\nvar UnMemoizedTypingIndicator = function (props) {\n  var _a;\n\n  var _b = props.Avatar,\n      Avatar = _b === void 0 ? DefaultAvatar : _b,\n      _c = props.avatarSize,\n      avatarSize = _c === void 0 ? 32 : _c,\n      threadList = props.threadList;\n\n  var _d = useChannelStateContext(),\n      channel = _d.channel,\n      thread = _d.thread;\n\n  var client = useChatContext().client;\n  var _e = useTypingContext().typing,\n      typing = _e === void 0 ? {} : _e;\n\n  if (((_a = channel === null || channel === void 0 ? void 0 : channel.getConfig()) === null || _a === void 0 ? void 0 : _a.typing_events) === false) {\n    return null;\n  }\n\n  var typingInChannel = !threadList ? Object.values(typing).filter(function (_a) {\n    var _b;\n\n    var parent_id = _a.parent_id,\n        user = _a.user;\n    return (user === null || user === void 0 ? void 0 : user.id) !== ((_b = client.user) === null || _b === void 0 ? void 0 : _b.id) && !parent_id;\n  }) : [];\n  var typingInThread = threadList ? Object.values(typing).filter(function (_a) {\n    var _b;\n\n    var parent_id = _a.parent_id,\n        user = _a.user;\n    return (user === null || user === void 0 ? void 0 : user.id) !== ((_b = client.user) === null || _b === void 0 ? void 0 : _b.id) && parent_id === (thread === null || thread === void 0 ? void 0 : thread.id);\n  }) : [];\n  return React.createElement(\"div\", {\n    className: \"str-chat__typing-indicator \" + (threadList && typingInThread.length || !threadList && typingInChannel.length ? 'str-chat__typing-indicator--typing' : '')\n  }, React.createElement(\"div\", {\n    className: 'str-chat__typing-indicator__avatars'\n  }, (threadList ? typingInThread : typingInChannel).map(function (_a, i) {\n    var user = _a.user;\n    return React.createElement(Avatar, {\n      image: user === null || user === void 0 ? void 0 : user.image,\n      key: (user === null || user === void 0 ? void 0 : user.id) + \"-\" + i,\n      name: (user === null || user === void 0 ? void 0 : user.name) || (user === null || user === void 0 ? void 0 : user.id),\n      size: avatarSize\n    });\n  })), React.createElement(\"div\", {\n    className: 'str-chat__typing-indicator__dots'\n  }, React.createElement(\"span\", {\n    className: 'str-chat__typing-indicator__dot'\n  }), React.createElement(\"span\", {\n    className: 'str-chat__typing-indicator__dot'\n  }), React.createElement(\"span\", {\n    className: 'str-chat__typing-indicator__dot'\n  })));\n};\n\nexport var TypingIndicator = React.memo(UnMemoizedTypingIndicator);","map":{"version":3,"sources":["/Users/zeeshanpatel/flow/node_modules/stream-chat-react/dist/components/TypingIndicator/TypingIndicator.js"],"names":["React","Avatar","DefaultAvatar","useChannelStateContext","useChatContext","useTypingContext","UnMemoizedTypingIndicator","props","_a","_b","_c","avatarSize","threadList","_d","channel","thread","client","_e","typing","getConfig","typing_events","typingInChannel","Object","values","filter","parent_id","user","id","typingInThread","createElement","className","length","map","i","image","key","name","size","TypingIndicator","memo"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Avatar as DefaultAvatar } from '../Avatar';\nimport { useChannelStateContext } from '../../context/ChannelStateContext';\nimport { useChatContext } from '../../context/ChatContext';\nimport { useTypingContext } from '../../context/TypingContext';\n/**\n * TypingIndicator lists users currently typing, it needs to be a child of Channel component\n */\nvar UnMemoizedTypingIndicator = function (props) {\n    var _a;\n    var _b = props.Avatar, Avatar = _b === void 0 ? DefaultAvatar : _b, _c = props.avatarSize, avatarSize = _c === void 0 ? 32 : _c, threadList = props.threadList;\n    var _d = useChannelStateContext(), channel = _d.channel, thread = _d.thread;\n    var client = useChatContext().client;\n    var _e = useTypingContext().typing, typing = _e === void 0 ? {} : _e;\n    if (((_a = channel === null || channel === void 0 ? void 0 : channel.getConfig()) === null || _a === void 0 ? void 0 : _a.typing_events) === false) {\n        return null;\n    }\n    var typingInChannel = !threadList\n        ? Object.values(typing).filter(function (_a) {\n            var _b;\n            var parent_id = _a.parent_id, user = _a.user;\n            return (user === null || user === void 0 ? void 0 : user.id) !== ((_b = client.user) === null || _b === void 0 ? void 0 : _b.id) && !parent_id;\n        })\n        : [];\n    var typingInThread = threadList\n        ? Object.values(typing).filter(function (_a) {\n            var _b;\n            var parent_id = _a.parent_id, user = _a.user;\n            return (user === null || user === void 0 ? void 0 : user.id) !== ((_b = client.user) === null || _b === void 0 ? void 0 : _b.id) && parent_id === (thread === null || thread === void 0 ? void 0 : thread.id);\n        })\n        : [];\n    return (React.createElement(\"div\", { className: \"str-chat__typing-indicator \" + ((threadList && typingInThread.length) || (!threadList && typingInChannel.length)\n            ? 'str-chat__typing-indicator--typing'\n            : '') },\n        React.createElement(\"div\", { className: 'str-chat__typing-indicator__avatars' }, (threadList ? typingInThread : typingInChannel).map(function (_a, i) {\n            var user = _a.user;\n            return (React.createElement(Avatar, { image: user === null || user === void 0 ? void 0 : user.image, key: (user === null || user === void 0 ? void 0 : user.id) + \"-\" + i, name: (user === null || user === void 0 ? void 0 : user.name) || (user === null || user === void 0 ? void 0 : user.id), size: avatarSize }));\n        })),\n        React.createElement(\"div\", { className: 'str-chat__typing-indicator__dots' },\n            React.createElement(\"span\", { className: 'str-chat__typing-indicator__dot' }),\n            React.createElement(\"span\", { className: 'str-chat__typing-indicator__dot' }),\n            React.createElement(\"span\", { className: 'str-chat__typing-indicator__dot' }))));\n};\nexport var TypingIndicator = React.memo(UnMemoizedTypingIndicator);\n"]},"metadata":{},"sourceType":"module"}