{"ast":null,"code":"import React from 'react';\nimport { FileUploadButton, ImageDropzone } from 'react-file-utils';\nimport { EmojiPicker } from './EmojiPicker';\nimport { CooldownTimer as DefaultCooldownTimer } from './hooks/useCooldownTimer';\nimport { EmojiIconSmall as DefaultEmojiIcon, FileUploadIcon as DefaultFileUploadIcon, SendButton as DefaultSendButton } from './icons';\nimport { UploadsPreview } from './UploadsPreview';\nimport { ChatAutoComplete } from '../ChatAutoComplete/ChatAutoComplete';\nimport { Tooltip } from '../Tooltip/Tooltip';\nimport { useChannelStateContext } from '../../context/ChannelStateContext';\nimport { useChatContext } from '../../context/ChatContext';\nimport { useTranslationContext } from '../../context/TranslationContext';\nimport { useTypingContext } from '../../context/TypingContext';\nimport { useMessageInputContext } from '../../context/MessageInputContext';\nimport { useComponentContext } from '../../context/ComponentContext';\n/**\n * @deprecated - This UI component will be removed in the next major release.\n */\n\nexport var MessageInputLarge = function () {\n  var _a = useChannelStateContext(),\n      acceptedFiles = _a.acceptedFiles,\n      multipleUploads = _a.multipleUploads,\n      watcher_count = _a.watcher_count;\n\n  var client = useChatContext().client;\n  var t = useTranslationContext().t;\n  var typing = useTypingContext().typing;\n\n  var _b = useMessageInputContext(),\n      closeEmojiPicker = _b.closeEmojiPicker,\n      cooldownInterval = _b.cooldownInterval,\n      cooldownRemaining = _b.cooldownRemaining,\n      emojiPickerIsOpen = _b.emojiPickerIsOpen,\n      emojiPickerRef = _b.emojiPickerRef,\n      handleEmojiKeyDown = _b.handleEmojiKeyDown,\n      handleSubmit = _b.handleSubmit,\n      isUploadEnabled = _b.isUploadEnabled,\n      maxFilesLeft = _b.maxFilesLeft,\n      openEmojiPicker = _b.openEmojiPicker,\n      setCooldownRemaining = _b.setCooldownRemaining,\n      uploadNewFiles = _b.uploadNewFiles;\n\n  var _c = useComponentContext(),\n      _d = _c.CooldownTimer,\n      CooldownTimer = _d === void 0 ? DefaultCooldownTimer : _d,\n      _e = _c.EmojiIcon,\n      EmojiIcon = _e === void 0 ? DefaultEmojiIcon : _e,\n      _f = _c.FileUploadIcon,\n      FileUploadIcon = _f === void 0 ? DefaultFileUploadIcon : _f,\n      _g = _c.SendButton,\n      SendButton = _g === void 0 ? DefaultSendButton : _g;\n\n  var constructTypingString = function (typingUsers) {\n    var otherTypingUsers = Object.values(typingUsers).filter(function (_a) {\n      var _b;\n\n      var user = _a.user;\n      return ((_b = client.user) === null || _b === void 0 ? void 0 : _b.id) !== (user === null || user === void 0 ? void 0 : user.id);\n    }).map(function (_a) {\n      var user = _a.user;\n      return (user === null || user === void 0 ? void 0 : user.name) || (user === null || user === void 0 ? void 0 : user.id);\n    });\n    if (otherTypingUsers.length === 0) return '';\n\n    if (otherTypingUsers.length === 1) {\n      return t('{{ user }} is typing...', {\n        user: otherTypingUsers[0]\n      });\n    }\n\n    if (otherTypingUsers.length === 2) {\n      // joins all with \"and\" but =no commas\n      // example: \"bob and sam\"\n      return t('{{ firstUser }} and {{ secondUser }} are typing...', {\n        firstUser: otherTypingUsers[0],\n        secondUser: otherTypingUsers[1]\n      });\n    } // joins all with commas, but last one gets \", and\" (oxford comma!)\n    // example: \"bob, joe, and sam\"\n\n\n    return t('{{ commaSeparatedUsers }} and {{ lastUser }} are typing...', {\n      commaSeparatedUsers: otherTypingUsers.slice(0, -1).join(', '),\n      lastUser: otherTypingUsers[otherTypingUsers.length - 1]\n    });\n  };\n\n  return React.createElement(\"div\", {\n    className: 'str-chat__input-large'\n  }, React.createElement(ImageDropzone, {\n    accept: acceptedFiles,\n    disabled: !isUploadEnabled || maxFilesLeft === 0 || !!cooldownRemaining,\n    handleFiles: uploadNewFiles,\n    maxNumberOfFiles: maxFilesLeft,\n    multiple: multipleUploads\n  }, React.createElement(\"div\", {\n    className: 'str-chat__input'\n  }, React.createElement(\"div\", {\n    className: 'str-chat__input--textarea-wrapper'\n  }, isUploadEnabled && React.createElement(UploadsPreview, null), React.createElement(ChatAutoComplete, null), cooldownRemaining ? React.createElement(\"div\", {\n    className: 'str-chat__input-large-cooldown'\n  }, React.createElement(CooldownTimer, {\n    cooldownInterval: cooldownInterval,\n    setCooldownRemaining: setCooldownRemaining\n  })) : React.createElement(React.Fragment, null, isUploadEnabled && React.createElement(\"div\", {\n    className: 'str-chat__fileupload-wrapper',\n    \"data-testid\": 'fileinput'\n  }, React.createElement(Tooltip, null, maxFilesLeft ? t('Attach files') : t(\"You've reached the maximum number of files\")), React.createElement(FileUploadButton, {\n    accepts: acceptedFiles,\n    disabled: maxFilesLeft === 0,\n    handleFiles: uploadNewFiles,\n    multiple: multipleUploads\n  }, React.createElement(\"span\", {\n    className: 'str-chat__input-fileupload'\n  }, React.createElement(FileUploadIcon, null)))), React.createElement(\"div\", {\n    className: 'str-chat__emojiselect-wrapper'\n  }, React.createElement(Tooltip, null, emojiPickerIsOpen ? t('Close emoji picker') : t('Open emoji picker')), React.createElement(\"span\", {\n    className: 'str-chat__input-emojiselect',\n    onClick: emojiPickerIsOpen ? closeEmojiPicker : openEmojiPicker,\n    onKeyDown: handleEmojiKeyDown,\n    ref: emojiPickerRef,\n    role: 'button',\n    tabIndex: 0\n  }, React.createElement(EmojiIcon, null)))), React.createElement(EmojiPicker, null)), !cooldownRemaining && React.createElement(SendButton, {\n    sendMessage: handleSubmit\n  })), React.createElement(\"div\", null, React.createElement(\"div\", {\n    className: 'str-chat__input-footer'\n  }, React.createElement(\"span\", {\n    className: \"str-chat__input-footer--count \" + (!watcher_count ? 'str-chat__input-footer--count--hidden' : '')\n  }, t('{{ watcherCount }} online', {\n    watcherCount: watcher_count\n  })), React.createElement(\"span\", {\n    className: 'str-chat__input-footer--typing'\n  }, constructTypingString(typing || {}))))));\n};","map":{"version":3,"sources":["/Users/zeeshanpatel/flow/node_modules/stream-chat-react/dist/components/MessageInput/MessageInputLarge.js"],"names":["React","FileUploadButton","ImageDropzone","EmojiPicker","CooldownTimer","DefaultCooldownTimer","EmojiIconSmall","DefaultEmojiIcon","FileUploadIcon","DefaultFileUploadIcon","SendButton","DefaultSendButton","UploadsPreview","ChatAutoComplete","Tooltip","useChannelStateContext","useChatContext","useTranslationContext","useTypingContext","useMessageInputContext","useComponentContext","MessageInputLarge","_a","acceptedFiles","multipleUploads","watcher_count","client","t","typing","_b","closeEmojiPicker","cooldownInterval","cooldownRemaining","emojiPickerIsOpen","emojiPickerRef","handleEmojiKeyDown","handleSubmit","isUploadEnabled","maxFilesLeft","openEmojiPicker","setCooldownRemaining","uploadNewFiles","_c","_d","_e","EmojiIcon","_f","_g","constructTypingString","typingUsers","otherTypingUsers","Object","values","filter","user","id","map","name","length","firstUser","secondUser","commaSeparatedUsers","slice","join","lastUser","createElement","className","accept","disabled","handleFiles","maxNumberOfFiles","multiple","Fragment","accepts","onClick","onKeyDown","ref","role","tabIndex","sendMessage","watcherCount"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { FileUploadButton, ImageDropzone } from 'react-file-utils';\nimport { EmojiPicker } from './EmojiPicker';\nimport { CooldownTimer as DefaultCooldownTimer } from './hooks/useCooldownTimer';\nimport { EmojiIconSmall as DefaultEmojiIcon, FileUploadIcon as DefaultFileUploadIcon, SendButton as DefaultSendButton, } from './icons';\nimport { UploadsPreview } from './UploadsPreview';\nimport { ChatAutoComplete } from '../ChatAutoComplete/ChatAutoComplete';\nimport { Tooltip } from '../Tooltip/Tooltip';\nimport { useChannelStateContext } from '../../context/ChannelStateContext';\nimport { useChatContext } from '../../context/ChatContext';\nimport { useTranslationContext } from '../../context/TranslationContext';\nimport { useTypingContext } from '../../context/TypingContext';\nimport { useMessageInputContext } from '../../context/MessageInputContext';\nimport { useComponentContext } from '../../context/ComponentContext';\n/**\n * @deprecated - This UI component will be removed in the next major release.\n */\nexport var MessageInputLarge = function () {\n    var _a = useChannelStateContext(), acceptedFiles = _a.acceptedFiles, multipleUploads = _a.multipleUploads, watcher_count = _a.watcher_count;\n    var client = useChatContext().client;\n    var t = useTranslationContext().t;\n    var typing = useTypingContext().typing;\n    var _b = useMessageInputContext(), closeEmojiPicker = _b.closeEmojiPicker, cooldownInterval = _b.cooldownInterval, cooldownRemaining = _b.cooldownRemaining, emojiPickerIsOpen = _b.emojiPickerIsOpen, emojiPickerRef = _b.emojiPickerRef, handleEmojiKeyDown = _b.handleEmojiKeyDown, handleSubmit = _b.handleSubmit, isUploadEnabled = _b.isUploadEnabled, maxFilesLeft = _b.maxFilesLeft, openEmojiPicker = _b.openEmojiPicker, setCooldownRemaining = _b.setCooldownRemaining, uploadNewFiles = _b.uploadNewFiles;\n    var _c = useComponentContext(), _d = _c.CooldownTimer, CooldownTimer = _d === void 0 ? DefaultCooldownTimer : _d, _e = _c.EmojiIcon, EmojiIcon = _e === void 0 ? DefaultEmojiIcon : _e, _f = _c.FileUploadIcon, FileUploadIcon = _f === void 0 ? DefaultFileUploadIcon : _f, _g = _c.SendButton, SendButton = _g === void 0 ? DefaultSendButton : _g;\n    var constructTypingString = function (typingUsers) {\n        var otherTypingUsers = Object.values(typingUsers)\n            .filter(function (_a) {\n            var _b;\n            var user = _a.user;\n            return ((_b = client.user) === null || _b === void 0 ? void 0 : _b.id) !== (user === null || user === void 0 ? void 0 : user.id);\n        })\n            .map(function (_a) {\n            var user = _a.user;\n            return (user === null || user === void 0 ? void 0 : user.name) || (user === null || user === void 0 ? void 0 : user.id);\n        });\n        if (otherTypingUsers.length === 0)\n            return '';\n        if (otherTypingUsers.length === 1) {\n            return t('{{ user }} is typing...', { user: otherTypingUsers[0] });\n        }\n        if (otherTypingUsers.length === 2) {\n            // joins all with \"and\" but =no commas\n            // example: \"bob and sam\"\n            return t('{{ firstUser }} and {{ secondUser }} are typing...', {\n                firstUser: otherTypingUsers[0],\n                secondUser: otherTypingUsers[1],\n            });\n        }\n        // joins all with commas, but last one gets \", and\" (oxford comma!)\n        // example: \"bob, joe, and sam\"\n        return t('{{ commaSeparatedUsers }} and {{ lastUser }} are typing...', {\n            commaSeparatedUsers: otherTypingUsers.slice(0, -1).join(', '),\n            lastUser: otherTypingUsers[otherTypingUsers.length - 1],\n        });\n    };\n    return (React.createElement(\"div\", { className: 'str-chat__input-large' },\n        React.createElement(ImageDropzone, { accept: acceptedFiles, disabled: !isUploadEnabled || maxFilesLeft === 0 || !!cooldownRemaining, handleFiles: uploadNewFiles, maxNumberOfFiles: maxFilesLeft, multiple: multipleUploads },\n            React.createElement(\"div\", { className: 'str-chat__input' },\n                React.createElement(\"div\", { className: 'str-chat__input--textarea-wrapper' },\n                    isUploadEnabled && React.createElement(UploadsPreview, null),\n                    React.createElement(ChatAutoComplete, null),\n                    cooldownRemaining ? (React.createElement(\"div\", { className: 'str-chat__input-large-cooldown' },\n                        React.createElement(CooldownTimer, { cooldownInterval: cooldownInterval, setCooldownRemaining: setCooldownRemaining }))) : (React.createElement(React.Fragment, null,\n                        isUploadEnabled && (React.createElement(\"div\", { className: 'str-chat__fileupload-wrapper', \"data-testid\": 'fileinput' },\n                            React.createElement(Tooltip, null, maxFilesLeft\n                                ? t('Attach files')\n                                : t(\"You've reached the maximum number of files\")),\n                            React.createElement(FileUploadButton, { accepts: acceptedFiles, disabled: maxFilesLeft === 0, handleFiles: uploadNewFiles, multiple: multipleUploads },\n                                React.createElement(\"span\", { className: 'str-chat__input-fileupload' },\n                                    React.createElement(FileUploadIcon, null))))),\n                        React.createElement(\"div\", { className: 'str-chat__emojiselect-wrapper' },\n                            React.createElement(Tooltip, null, emojiPickerIsOpen ? t('Close emoji picker') : t('Open emoji picker')),\n                            React.createElement(\"span\", { className: 'str-chat__input-emojiselect', onClick: emojiPickerIsOpen ? closeEmojiPicker : openEmojiPicker, onKeyDown: handleEmojiKeyDown, ref: emojiPickerRef, role: 'button', tabIndex: 0 },\n                                React.createElement(EmojiIcon, null))))),\n                    React.createElement(EmojiPicker, null)),\n                !cooldownRemaining && React.createElement(SendButton, { sendMessage: handleSubmit })),\n            React.createElement(\"div\", null,\n                React.createElement(\"div\", { className: 'str-chat__input-footer' },\n                    React.createElement(\"span\", { className: \"str-chat__input-footer--count \" + (!watcher_count ? 'str-chat__input-footer--count--hidden' : '') }, t('{{ watcherCount }} online', {\n                        watcherCount: watcher_count,\n                    })),\n                    React.createElement(\"span\", { className: 'str-chat__input-footer--typing' }, constructTypingString(typing || {})))))));\n};\n"]},"metadata":{},"sourceType":"module"}