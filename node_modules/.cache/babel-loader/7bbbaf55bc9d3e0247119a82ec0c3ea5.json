{"ast":null,"code":"\"use strict\";\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function () {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar react_1 = __importStar(require(\"react\"));\n\nfunction fillArray(length, columnOffsets) {\n  if (columnOffsets === void 0) {\n    columnOffsets = [];\n  }\n\n  return Array.apply(null, Array(length)).map(function (_, index) {\n    return columnOffsets[index] || 0;\n  });\n}\n\nvar MasonryGrid = function (_a) {\n  var columns = _a.columns,\n      gutter = _a.gutter,\n      _b = _a.useTransform,\n      useTransform = _b === void 0 ? true : _b,\n      itemWidth = _a.itemWidth,\n      itemHeights = _a.itemHeights,\n      children = _a.children,\n      _c = _a.columnOffsets,\n      columnOffsets = _c === void 0 ? [] : _c;\n  var containerStyle = {};\n\n  function getChildren() {\n    var columnTarget;\n    var columnHeights = fillArray(columns, columnOffsets);\n    var result = react_1.default.Children.map(children, function (child, index) {\n      var style = {\n        position: 'absolute'\n      };\n      columnTarget = columnHeights.indexOf(Math.min.apply(Math, columnHeights));\n      var top = columnHeights[columnTarget] + \"px\";\n      var left = columnTarget * itemWidth + columnTarget * gutter + \"px\";\n\n      if (useTransform) {\n        style.transform = \"translate3d(\" + left + \", \" + top + \", 0)\";\n      } else {\n        // support positioned elements (default) or transformed elements\n        style.top = top;\n        style.left = left;\n      }\n\n      var height = itemHeights[index];\n\n      if (height) {\n        columnHeights[columnTarget] += height + gutter;\n      }\n\n      return react_1.default.cloneElement(child, {\n        style: style\n      });\n    });\n    containerStyle.position = 'relative';\n    containerStyle.width = columns * itemWidth + (columns - 1) * gutter + \"px\";\n    containerStyle.height = Math.max.apply(Math, columnHeights) - gutter + \"px\";\n    return result;\n  }\n\n  return react_1.default.createElement(\"div\", {\n    style: containerStyle\n  }, getChildren());\n};\n\nexports.default = react_1.memo(MasonryGrid);","map":{"version":3,"sources":["../../src/components/masonry-grid.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar react_1 = __importStar(require(\"react\"));\nfunction fillArray(length, columnOffsets) {\n    if (columnOffsets === void 0) { columnOffsets = []; }\n    return Array.apply(null, Array(length)).map(function (_, index) { return columnOffsets[index] || 0; });\n}\nvar MasonryGrid = function (_a) {\n    var columns = _a.columns, gutter = _a.gutter, _b = _a.useTransform, useTransform = _b === void 0 ? true : _b, itemWidth = _a.itemWidth, itemHeights = _a.itemHeights, children = _a.children, _c = _a.columnOffsets, columnOffsets = _c === void 0 ? [] : _c;\n    var containerStyle = {};\n    function getChildren() {\n        var columnTarget;\n        var columnHeights = fillArray(columns, columnOffsets);\n        var result = react_1.default.Children.map(children, function (child, index) {\n            var style = {\n                position: 'absolute',\n            };\n            columnTarget = columnHeights.indexOf(Math.min.apply(Math, columnHeights));\n            var top = columnHeights[columnTarget] + \"px\";\n            var left = columnTarget * itemWidth + columnTarget * gutter + \"px\";\n            if (useTransform) {\n                style.transform = \"translate3d(\" + left + \", \" + top + \", 0)\";\n            }\n            else {\n                // support positioned elements (default) or transformed elements\n                style.top = top;\n                style.left = left;\n            }\n            var height = itemHeights[index];\n            if (height) {\n                columnHeights[columnTarget] += height + gutter;\n            }\n            return react_1.default.cloneElement(child, { style: style });\n        });\n        containerStyle.position = 'relative';\n        containerStyle.width = columns * itemWidth + (columns - 1) * gutter + \"px\";\n        containerStyle.height = Math.max.apply(Math, columnHeights) - gutter + \"px\";\n        return result;\n    }\n    return react_1.default.createElement(\"div\", { style: containerStyle }, getChildren());\n};\nexports.default = react_1.memo(MasonryGrid);\n//# sourceMappingURL=masonry-grid.js.map"]},"metadata":{},"sourceType":"script"}