{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar dompurify_1 = require(\"dompurify\");\n\nvar injectTrackingPixel = function (tags) {\n  if (tags === void 0) {\n    tags = [];\n  }\n\n  tags.forEach(function (tag) {\n    var _a;\n\n    var el = document.createElement('html');\n    tag = tag.replace('%%CACHEBUSTER%%', Date.now().toString());\n    el.innerHTML = dompurify_1.sanitize(tag);\n    var pixel = el.querySelector('img');\n\n    if (pixel) {\n      (_a = document === null || document === void 0 ? void 0 : document.querySelector('head')) === null || _a === void 0 ? void 0 : _a.appendChild(pixel);\n    }\n  });\n};\n\nexports.default = injectTrackingPixel;","map":{"version":3,"sources":["../src/tracking-pixel.ts"],"names":[],"mappings":";;;;;;AAAA,IAAA,WAAA,GAAA,OAAA,CAAA,WAAA,CAAA;;AAEA,IAAM,mBAAmB,GAAG,UAAC,IAAD,EAAoB;AAAnB,MAAA,IAAA,KAAA,KAAA,CAAA,EAAA;AAAA,IAAA,IAAA,GAAA,EAAA;AAAmB;;AAC5C,EAAA,IAAI,CAAC,OAAL,CAAa,UAAA,GAAA,EAAG;;;AACZ,QAAM,EAAE,GAAG,QAAQ,CAAC,aAAT,CAAuB,MAAvB,CAAX;AACA,IAAA,GAAG,GAAG,GAAG,CAAC,OAAJ,CAAY,iBAAZ,EAA+B,IAAI,CAAC,GAAL,GAAW,QAAX,EAA/B,CAAN;AACA,IAAA,EAAE,CAAC,SAAH,GAAe,WAAA,CAAA,QAAA,CAAS,GAAT,CAAf;AACA,QAAM,KAAK,GAAG,EAAE,CAAC,aAAH,CAAiB,KAAjB,CAAd;;AACA,QAAI,KAAJ,EAAW;AACP,OAAA,EAAA,GAAA,QAAQ,KAAA,IAAR,IAAA,QAAQ,KAAA,KAAA,CAAR,GAAQ,KAAA,CAAR,GAAA,QAAQ,CAAE,aAAV,CAAwB,MAAxB,CAAA,MAA8B,IAA9B,IAA8B,EAAA,KAAA,KAAA,CAA9B,GAA8B,KAAA,CAA9B,GAA8B,EAAA,CAAG,WAAH,CAAe,KAAf,CAA9B;AACH;AACJ,GARD;AASH,CAVD;;AAYA,OAAA,CAAA,OAAA,GAAe,mBAAf","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar dompurify_1 = require(\"dompurify\");\nvar injectTrackingPixel = function (tags) {\n    if (tags === void 0) { tags = []; }\n    tags.forEach(function (tag) {\n        var _a;\n        var el = document.createElement('html');\n        tag = tag.replace('%%CACHEBUSTER%%', Date.now().toString());\n        el.innerHTML = dompurify_1.sanitize(tag);\n        var pixel = el.querySelector('img');\n        if (pixel) {\n            (_a = document === null || document === void 0 ? void 0 : document.querySelector('head')) === null || _a === void 0 ? void 0 : _a.appendChild(pixel);\n        }\n    });\n};\nexports.default = injectTrackingPixel;\n//# sourceMappingURL=tracking-pixel.js.map"]},"metadata":{},"sourceType":"script"}