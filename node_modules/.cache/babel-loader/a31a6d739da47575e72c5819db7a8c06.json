{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport React, { useMemo, useRef } from 'react';\nimport { MessageDeleted as DefaultMessageDeleted } from './MessageDeleted';\nimport { MessageRepliesCountButton as DefaultMessageRepliesCountButton } from './MessageRepliesCountButton';\nimport { MessageStatus } from './MessageStatus';\nimport { MessageTimestamp as DefaultTimestamp } from './MessageTimestamp';\nimport { useReactionClick } from './hooks';\nimport { PinIndicator as DefaultPinIndicator, ErrorIcon, ReactionIcon, ThreadIcon } from './icons';\nimport { QuotedMessage as DefaultQuotedMessage } from './QuotedMessage';\nimport { areMessageUIPropsEqual, MESSAGE_ACTIONS, showMessageActionsBox } from './utils';\nimport { Avatar as DefaultAvatar } from '../Avatar';\nimport { MessageActions } from '../MessageActions';\nimport { EditMessageForm as DefaultEditMessageForm, MessageInput } from '../MessageInput';\nimport { MML } from '../MML';\nimport { ReactionSelector as DefaultReactionSelector, SimpleReactionsList as DefaultReactionsList } from '../Reactions';\nimport { useComponentContext } from '../../context/ComponentContext';\nimport { useMessageContext } from '../../context/MessageContext';\nimport { useTranslationContext } from '../../context/TranslationContext';\nimport { renderText as defaultRenderText, isOnlyEmojis } from '../../utils';\n\nvar MessageTeamWithContext = function (props) {\n  var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;\n\n  var clearEditingState = props.clearEditingState,\n      editing = props.editing,\n      getMessageActions = props.getMessageActions,\n      groupStyles = props.groupStyles,\n      handleAction = props.handleAction,\n      handleOpenThread = props.handleOpenThread,\n      handleRetry = props.handleRetry,\n      initialMessage = props.initialMessage,\n      isReactionEnabled = props.isReactionEnabled,\n      message = props.message,\n      messageWrapperRef = props.messageWrapperRef,\n      onMentionsClickMessage = props.onMentionsClickMessage,\n      onMentionsHoverMessage = props.onMentionsHoverMessage,\n      onReactionListClick = props.onReactionListClick,\n      onUserClick = props.onUserClick,\n      onUserHover = props.onUserHover,\n      reactionSelectorRef = props.reactionSelectorRef,\n      _l = props.renderText,\n      renderText = _l === void 0 ? defaultRenderText : _l,\n      showDetailedReactions = props.showDetailedReactions,\n      threadList = props.threadList,\n      unsafeHTML = props.unsafeHTML;\n\n  var _m = useComponentContext(),\n      Attachment = _m.Attachment,\n      _o = _m.Avatar,\n      Avatar = _o === void 0 ? DefaultAvatar : _o,\n      _p = _m.EditMessageInput,\n      EditMessageInput = _p === void 0 ? DefaultEditMessageForm : _p,\n      _q = _m.MessageDeleted,\n      MessageDeleted = _q === void 0 ? DefaultMessageDeleted : _q,\n      _r = _m.MessageRepliesCountButton,\n      MessageRepliesCountButton = _r === void 0 ? DefaultMessageRepliesCountButton : _r,\n      _s = _m.MessageTimestamp,\n      MessageTimestamp = _s === void 0 ? DefaultTimestamp : _s,\n      _t = _m.PinIndicator,\n      PinIndicator = _t === void 0 ? DefaultPinIndicator : _t,\n      _u = _m.QuotedMessage,\n      QuotedMessage = _u === void 0 ? DefaultQuotedMessage : _u,\n      _v = _m.ReactionsList,\n      ReactionsList = _v === void 0 ? DefaultReactionsList : _v,\n      _w = _m.ReactionSelector,\n      ReactionSelector = _w === void 0 ? DefaultReactionSelector : _w;\n\n  var _x = useTranslationContext(),\n      t = _x.t,\n      userLanguage = _x.userLanguage;\n\n  var messageActions = getMessageActions();\n  var showActionsBox = showMessageActionsBox(messageActions);\n  var shouldShowReplies = messageActions.indexOf(MESSAGE_ACTIONS.reply) > -1 && !threadList;\n  var messageTextToRender = ((_a = message.i18n) === null || _a === void 0 ? void 0 : _a[userLanguage + \"_text\"]) || message.text;\n  var messageMentionedUsersItem = message.mentioned_users;\n  var messageText = useMemo(function () {\n    return renderText(messageTextToRender, messageMentionedUsersItem);\n  }, [messageMentionedUsersItem, messageTextToRender]);\n  var firstGroupStyle = groupStyles ? groupStyles[0] : 'single';\n\n  if (message.deleted_at) {\n    return React.createElement(MessageDeleted, {\n      message: message\n    });\n  }\n\n  if (editing) {\n    return React.createElement(\"div\", {\n      className: \"str-chat__message-team str-chat__message-team--\" + firstGroupStyle + \" str-chat__message-team--editing\",\n      \"data-testid\": 'message-team-edit'\n    }, (firstGroupStyle === 'top' || firstGroupStyle === 'single') && React.createElement(\"div\", {\n      className: 'str-chat__message-team-meta'\n    }, React.createElement(Avatar, {\n      image: (_b = message.user) === null || _b === void 0 ? void 0 : _b.image,\n      name: ((_c = message.user) === null || _c === void 0 ? void 0 : _c.name) || ((_d = message.user) === null || _d === void 0 ? void 0 : _d.id),\n      onClick: onUserClick,\n      onMouseOver: onUserHover,\n      size: 40\n    })), React.createElement(MessageInput, {\n      clearEditingState: clearEditingState,\n      Input: EditMessageInput,\n      message: message\n    }));\n  }\n\n  return React.createElement(React.Fragment, null, message.pinned && React.createElement(\"div\", {\n    className: 'str-chat__message-team-pin-indicator'\n  }, React.createElement(PinIndicator, {\n    message: message,\n    t: t\n  })), React.createElement(\"div\", {\n    className: \"str-chat__message-team str-chat__message-team--\" + firstGroupStyle + \" str-chat__message-team--\" + message.type + \" \" + (threadList ? 'thread-list' : '') + \" str-chat__message-team--\" + message.status + \" \" + (message.pinned ? 'pinned-message' : ''),\n    \"data-testid\": 'message-team',\n    ref: messageWrapperRef\n  }, React.createElement(\"div\", {\n    className: 'str-chat__message-team-meta'\n  }, firstGroupStyle === 'top' || firstGroupStyle === 'single' || initialMessage ? React.createElement(Avatar, {\n    image: (_e = message.user) === null || _e === void 0 ? void 0 : _e.image,\n    name: ((_f = message.user) === null || _f === void 0 ? void 0 : _f.name) || ((_g = message.user) === null || _g === void 0 ? void 0 : _g.id),\n    onClick: onUserClick,\n    onMouseOver: onUserHover,\n    size: 40\n  }) : React.createElement(\"div\", {\n    \"data-testid\": 'team-meta-spacer',\n    style: {\n      marginRight: 0,\n      width: 40\n    }\n  }), React.createElement(MessageTimestamp, null)), React.createElement(\"div\", {\n    className: 'str-chat__message-team-group'\n  }, (firstGroupStyle === 'top' || firstGroupStyle === 'single' || initialMessage) && React.createElement(\"div\", {\n    className: 'str-chat__message-team-author',\n    \"data-testid\": 'message-team-author',\n    onClick: onUserClick\n  }, React.createElement(\"strong\", null, ((_h = message.user) === null || _h === void 0 ? void 0 : _h.name) || ((_j = message.user) === null || _j === void 0 ? void 0 : _j.id)), message.type === 'error' && React.createElement(\"div\", {\n    className: 'str-chat__message-team-error-header'\n  }, t('Only visible to you'))), React.createElement(\"div\", {\n    className: \"str-chat__message-team-content str-chat__message-team-content--\" + firstGroupStyle + \" str-chat__message-team-content--\" + (message.text === '' ? 'image' : 'text'),\n    \"data-testid\": 'message-team-content'\n  }, message.quoted_message && React.createElement(QuotedMessage, null), !initialMessage && message.status !== 'sending' && message.status !== 'failed' && message.type !== 'system' && message.type !== 'ephemeral' && message.type !== 'error' && React.createElement(\"div\", {\n    className: \"str-chat__message-team-actions\",\n    \"data-testid\": 'message-team-actions'\n  }, showDetailedReactions && React.createElement(ReactionSelector, {\n    ref: reactionSelectorRef\n  }), isReactionEnabled && React.createElement(\"span\", {\n    \"data-testid\": 'message-team-reaction-icon',\n    onClick: onReactionListClick,\n    title: 'Reactions'\n  }, React.createElement(ReactionIcon, null)), shouldShowReplies && React.createElement(\"span\", {\n    \"data-testid\": 'message-team-thread-icon',\n    onClick: handleOpenThread,\n    title: 'Start a thread'\n  }, React.createElement(ThreadIcon, null)), showActionsBox && React.createElement(MessageActions, {\n    inline: true,\n    messageWrapperRef: messageWrapperRef\n  })), React.createElement(\"span\", {\n    className: isOnlyEmojis(message.text) ? 'str-chat__message-team-text--is-emoji' : '',\n    \"data-testid\": 'message-team-message',\n    onClick: onMentionsClickMessage,\n    onMouseOver: onMentionsHoverMessage\n  }, unsafeHTML && message.html ? React.createElement(\"div\", {\n    dangerouslySetInnerHTML: {\n      __html: message.html\n    }\n  }) : messageText), message.mml && React.createElement(MML, {\n    actionHandler: handleAction,\n    align: 'left',\n    source: message.mml\n  }), !message.text && message.attachments && React.createElement(Attachment, {\n    actionHandler: handleAction,\n    attachments: message.attachments\n  }), ((_k = message.latest_reactions) === null || _k === void 0 ? void 0 : _k.length) !== 0 && message.text !== '' && isReactionEnabled && React.createElement(ReactionsList, null), message.status === 'failed' && React.createElement(\"button\", {\n    className: 'str-chat__message-team-failed',\n    \"data-testid\": 'message-team-failed',\n    onClick: message.errorStatusCode !== 403 ? function () {\n      return handleRetry(message);\n    } : undefined\n  }, React.createElement(ErrorIcon, null), message.errorStatusCode !== 403 ? t('Message Failed · Click to try again') : t('Message Failed · Unauthorized'))), React.createElement(MessageStatus, {\n    messageType: 'team'\n  }), message.text && message.attachments && React.createElement(Attachment, {\n    actionHandler: handleAction,\n    attachments: message.attachments\n  }), message.latest_reactions && message.latest_reactions.length !== 0 && message.text === '' && isReactionEnabled && React.createElement(ReactionsList, null), !threadList && React.createElement(MessageRepliesCountButton, {\n    onClick: handleOpenThread,\n    reply_count: message.reply_count\n  }))));\n};\n\nvar MemoizedMessageTeam = React.memo(MessageTeamWithContext, areMessageUIPropsEqual);\n/**\n * @deprecated - This UI component will be removed in the next major release.\n *\n * Handles the rendering of a Message and depends on the Message component for all the logic.\n * Implements the look and feel for a team style collaboration environment.\n */\n\nexport var MessageTeam = function (props) {\n  var messageContext = useMessageContext();\n  var reactionSelectorRef = useRef(null);\n  var messageWrapperRef = useRef(null);\n  var message = props.message || messageContext.message;\n\n  var _a = useReactionClick(message, reactionSelectorRef, messageWrapperRef),\n      isReactionEnabled = _a.isReactionEnabled,\n      onReactionListClick = _a.onReactionListClick,\n      showDetailedReactions = _a.showDetailedReactions;\n\n  return React.createElement(MemoizedMessageTeam, __assign({}, messageContext, {\n    isReactionEnabled: isReactionEnabled,\n    messageWrapperRef: messageWrapperRef,\n    onReactionListClick: onReactionListClick,\n    reactionSelectorRef: reactionSelectorRef,\n    showDetailedReactions: showDetailedReactions\n  }, props));\n};","map":{"version":3,"sources":["/Users/zeeshanpatel/flow/node_modules/stream-chat-react/dist/components/Message/MessageTeam.js"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","React","useMemo","useRef","MessageDeleted","DefaultMessageDeleted","MessageRepliesCountButton","DefaultMessageRepliesCountButton","MessageStatus","MessageTimestamp","DefaultTimestamp","useReactionClick","PinIndicator","DefaultPinIndicator","ErrorIcon","ReactionIcon","ThreadIcon","QuotedMessage","DefaultQuotedMessage","areMessageUIPropsEqual","MESSAGE_ACTIONS","showMessageActionsBox","Avatar","DefaultAvatar","MessageActions","EditMessageForm","DefaultEditMessageForm","MessageInput","MML","ReactionSelector","DefaultReactionSelector","SimpleReactionsList","DefaultReactionsList","useComponentContext","useMessageContext","useTranslationContext","renderText","defaultRenderText","isOnlyEmojis","MessageTeamWithContext","props","_a","_b","_c","_d","_e","_f","_g","_h","_j","_k","clearEditingState","editing","getMessageActions","groupStyles","handleAction","handleOpenThread","handleRetry","initialMessage","isReactionEnabled","message","messageWrapperRef","onMentionsClickMessage","onMentionsHoverMessage","onReactionListClick","onUserClick","onUserHover","reactionSelectorRef","_l","showDetailedReactions","threadList","unsafeHTML","_m","Attachment","_o","_p","EditMessageInput","_q","_r","_s","_t","_u","_v","ReactionsList","_w","_x","userLanguage","messageActions","showActionsBox","shouldShowReplies","indexOf","reply","messageTextToRender","i18n","text","messageMentionedUsersItem","mentioned_users","messageText","firstGroupStyle","deleted_at","createElement","className","image","user","name","id","onClick","onMouseOver","size","Input","Fragment","pinned","type","status","ref","style","marginRight","width","quoted_message","title","inline","html","dangerouslySetInnerHTML","__html","mml","actionHandler","align","source","attachments","latest_reactions","errorStatusCode","undefined","messageType","reply_count","MemoizedMessageTeam","memo","MessageTeam","messageContext"],"mappings":"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","sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React, { useMemo, useRef } from 'react';\nimport { MessageDeleted as DefaultMessageDeleted } from './MessageDeleted';\nimport { MessageRepliesCountButton as DefaultMessageRepliesCountButton } from './MessageRepliesCountButton';\nimport { MessageStatus } from './MessageStatus';\nimport { MessageTimestamp as DefaultTimestamp } from './MessageTimestamp';\nimport { useReactionClick } from './hooks';\nimport { PinIndicator as DefaultPinIndicator, ErrorIcon, ReactionIcon, ThreadIcon } from './icons';\nimport { QuotedMessage as DefaultQuotedMessage } from './QuotedMessage';\nimport { areMessageUIPropsEqual, MESSAGE_ACTIONS, showMessageActionsBox } from './utils';\nimport { Avatar as DefaultAvatar } from '../Avatar';\nimport { MessageActions } from '../MessageActions';\nimport { EditMessageForm as DefaultEditMessageForm, MessageInput } from '../MessageInput';\nimport { MML } from '../MML';\nimport { ReactionSelector as DefaultReactionSelector, SimpleReactionsList as DefaultReactionsList, } from '../Reactions';\nimport { useComponentContext } from '../../context/ComponentContext';\nimport { useMessageContext } from '../../context/MessageContext';\nimport { useTranslationContext } from '../../context/TranslationContext';\nimport { renderText as defaultRenderText, isOnlyEmojis } from '../../utils';\nvar MessageTeamWithContext = function (props) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;\n    var clearEditingState = props.clearEditingState, editing = props.editing, getMessageActions = props.getMessageActions, groupStyles = props.groupStyles, handleAction = props.handleAction, handleOpenThread = props.handleOpenThread, handleRetry = props.handleRetry, initialMessage = props.initialMessage, isReactionEnabled = props.isReactionEnabled, message = props.message, messageWrapperRef = props.messageWrapperRef, onMentionsClickMessage = props.onMentionsClickMessage, onMentionsHoverMessage = props.onMentionsHoverMessage, onReactionListClick = props.onReactionListClick, onUserClick = props.onUserClick, onUserHover = props.onUserHover, reactionSelectorRef = props.reactionSelectorRef, _l = props.renderText, renderText = _l === void 0 ? defaultRenderText : _l, showDetailedReactions = props.showDetailedReactions, threadList = props.threadList, unsafeHTML = props.unsafeHTML;\n    var _m = useComponentContext(), Attachment = _m.Attachment, _o = _m.Avatar, Avatar = _o === void 0 ? DefaultAvatar : _o, _p = _m.EditMessageInput, EditMessageInput = _p === void 0 ? DefaultEditMessageForm : _p, _q = _m.MessageDeleted, MessageDeleted = _q === void 0 ? DefaultMessageDeleted : _q, _r = _m.MessageRepliesCountButton, MessageRepliesCountButton = _r === void 0 ? DefaultMessageRepliesCountButton : _r, _s = _m.MessageTimestamp, MessageTimestamp = _s === void 0 ? DefaultTimestamp : _s, _t = _m.PinIndicator, PinIndicator = _t === void 0 ? DefaultPinIndicator : _t, _u = _m.QuotedMessage, QuotedMessage = _u === void 0 ? DefaultQuotedMessage : _u, _v = _m.ReactionsList, ReactionsList = _v === void 0 ? DefaultReactionsList : _v, _w = _m.ReactionSelector, ReactionSelector = _w === void 0 ? DefaultReactionSelector : _w;\n    var _x = useTranslationContext(), t = _x.t, userLanguage = _x.userLanguage;\n    var messageActions = getMessageActions();\n    var showActionsBox = showMessageActionsBox(messageActions);\n    var shouldShowReplies = messageActions.indexOf(MESSAGE_ACTIONS.reply) > -1 && !threadList;\n    var messageTextToRender = ((_a = message.i18n) === null || _a === void 0 ? void 0 : _a[userLanguage + \"_text\"]) || message.text;\n    var messageMentionedUsersItem = message.mentioned_users;\n    var messageText = useMemo(function () { return renderText(messageTextToRender, messageMentionedUsersItem); }, [\n        messageMentionedUsersItem,\n        messageTextToRender,\n    ]);\n    var firstGroupStyle = groupStyles ? groupStyles[0] : 'single';\n    if (message.deleted_at) {\n        return React.createElement(MessageDeleted, { message: message });\n    }\n    if (editing) {\n        return (React.createElement(\"div\", { className: \"str-chat__message-team str-chat__message-team--\" + firstGroupStyle + \" str-chat__message-team--editing\", \"data-testid\": 'message-team-edit' },\n            (firstGroupStyle === 'top' || firstGroupStyle === 'single') && (React.createElement(\"div\", { className: 'str-chat__message-team-meta' },\n                React.createElement(Avatar, { image: (_b = message.user) === null || _b === void 0 ? void 0 : _b.image, name: ((_c = message.user) === null || _c === void 0 ? void 0 : _c.name) || ((_d = message.user) === null || _d === void 0 ? void 0 : _d.id), onClick: onUserClick, onMouseOver: onUserHover, size: 40 }))),\n            React.createElement(MessageInput, { clearEditingState: clearEditingState, Input: EditMessageInput, message: message })));\n    }\n    return (React.createElement(React.Fragment, null,\n        message.pinned && (React.createElement(\"div\", { className: 'str-chat__message-team-pin-indicator' },\n            React.createElement(PinIndicator, { message: message, t: t }))),\n        React.createElement(\"div\", { className: \"str-chat__message-team str-chat__message-team--\" + firstGroupStyle + \" str-chat__message-team--\" + message.type + \" \" + (threadList ? 'thread-list' : '') + \" str-chat__message-team--\" + message.status + \" \" + (message.pinned ? 'pinned-message' : ''), \"data-testid\": 'message-team', ref: messageWrapperRef },\n            React.createElement(\"div\", { className: 'str-chat__message-team-meta' },\n                firstGroupStyle === 'top' || firstGroupStyle === 'single' || initialMessage ? (React.createElement(Avatar, { image: (_e = message.user) === null || _e === void 0 ? void 0 : _e.image, name: ((_f = message.user) === null || _f === void 0 ? void 0 : _f.name) || ((_g = message.user) === null || _g === void 0 ? void 0 : _g.id), onClick: onUserClick, onMouseOver: onUserHover, size: 40 })) : (React.createElement(\"div\", { \"data-testid\": 'team-meta-spacer', style: { marginRight: 0, width: 40 } })),\n                React.createElement(MessageTimestamp, null)),\n            React.createElement(\"div\", { className: 'str-chat__message-team-group' },\n                (firstGroupStyle === 'top' || firstGroupStyle === 'single' || initialMessage) && (React.createElement(\"div\", { className: 'str-chat__message-team-author', \"data-testid\": 'message-team-author', onClick: onUserClick },\n                    React.createElement(\"strong\", null, ((_h = message.user) === null || _h === void 0 ? void 0 : _h.name) || ((_j = message.user) === null || _j === void 0 ? void 0 : _j.id)),\n                    message.type === 'error' && (React.createElement(\"div\", { className: 'str-chat__message-team-error-header' }, t('Only visible to you'))))),\n                React.createElement(\"div\", { className: \"str-chat__message-team-content str-chat__message-team-content--\" + firstGroupStyle + \" str-chat__message-team-content--\" + (message.text === '' ? 'image' : 'text'), \"data-testid\": 'message-team-content' },\n                    message.quoted_message && React.createElement(QuotedMessage, null),\n                    !initialMessage &&\n                        message.status !== 'sending' &&\n                        message.status !== 'failed' &&\n                        message.type !== 'system' &&\n                        message.type !== 'ephemeral' &&\n                        message.type !== 'error' && (React.createElement(\"div\", { className: \"str-chat__message-team-actions\", \"data-testid\": 'message-team-actions' },\n                        showDetailedReactions && React.createElement(ReactionSelector, { ref: reactionSelectorRef }),\n                        isReactionEnabled && (React.createElement(\"span\", { \"data-testid\": 'message-team-reaction-icon', onClick: onReactionListClick, title: 'Reactions' },\n                            React.createElement(ReactionIcon, null))),\n                        shouldShowReplies && (React.createElement(\"span\", { \"data-testid\": 'message-team-thread-icon', onClick: handleOpenThread, title: 'Start a thread' },\n                            React.createElement(ThreadIcon, null))),\n                        showActionsBox && (React.createElement(MessageActions, { inline: true, messageWrapperRef: messageWrapperRef })))),\n                    React.createElement(\"span\", { className: isOnlyEmojis(message.text) ? 'str-chat__message-team-text--is-emoji' : '', \"data-testid\": 'message-team-message', onClick: onMentionsClickMessage, onMouseOver: onMentionsHoverMessage }, unsafeHTML && message.html ? (React.createElement(\"div\", { dangerouslySetInnerHTML: { __html: message.html } })) : (messageText)),\n                    message.mml && React.createElement(MML, { actionHandler: handleAction, align: 'left', source: message.mml }),\n                    !message.text && message.attachments && (React.createElement(Attachment, { actionHandler: handleAction, attachments: message.attachments })),\n                    ((_k = message.latest_reactions) === null || _k === void 0 ? void 0 : _k.length) !== 0 && message.text !== '' && isReactionEnabled && (React.createElement(ReactionsList, null)),\n                    message.status === 'failed' && (React.createElement(\"button\", { className: 'str-chat__message-team-failed', \"data-testid\": 'message-team-failed', onClick: message.errorStatusCode !== 403 ? function () { return handleRetry(message); } : undefined },\n                        React.createElement(ErrorIcon, null),\n                        message.errorStatusCode !== 403\n                            ? t('Message Failed · Click to try again')\n                            : t('Message Failed · Unauthorized')))),\n                React.createElement(MessageStatus, { messageType: 'team' }),\n                message.text && message.attachments && (React.createElement(Attachment, { actionHandler: handleAction, attachments: message.attachments })),\n                message.latest_reactions &&\n                    message.latest_reactions.length !== 0 &&\n                    message.text === '' &&\n                    isReactionEnabled && React.createElement(ReactionsList, null),\n                !threadList && (React.createElement(MessageRepliesCountButton, { onClick: handleOpenThread, reply_count: message.reply_count }))))));\n};\nvar MemoizedMessageTeam = React.memo(MessageTeamWithContext, areMessageUIPropsEqual);\n/**\n * @deprecated - This UI component will be removed in the next major release.\n *\n * Handles the rendering of a Message and depends on the Message component for all the logic.\n * Implements the look and feel for a team style collaboration environment.\n */\nexport var MessageTeam = function (props) {\n    var messageContext = useMessageContext();\n    var reactionSelectorRef = useRef(null);\n    var messageWrapperRef = useRef(null);\n    var message = props.message || messageContext.message;\n    var _a = useReactionClick(message, reactionSelectorRef, messageWrapperRef), isReactionEnabled = _a.isReactionEnabled, onReactionListClick = _a.onReactionListClick, showDetailedReactions = _a.showDetailedReactions;\n    return (React.createElement(MemoizedMessageTeam, __assign({}, messageContext, { isReactionEnabled: isReactionEnabled, messageWrapperRef: messageWrapperRef, onReactionListClick: onReactionListClick, reactionSelectorRef: reactionSelectorRef, showDetailedReactions: showDetailedReactions }, props)));\n};\n"]},"metadata":{},"sourceType":"module"}