{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.sendPingback = void 0;\n\nvar js_util_1 = require(\"@giphy/js-util\");\n\nvar global_1 = __importDefault(require(\"./global\")); // TODO remove api key\n\n\nvar environment = (global_1.default === null || global_1.default === void 0 ? void 0 : global_1.default.GIPHY_PINGBACK_URL) || 'https://pingback.giphy.com';\nvar pingBackUrl = environment + \"/v2/pingback?apikey=l0HlIwPWyBBUDAUgM\";\n\nexports.sendPingback = function (events) {\n  var headers = js_util_1.getGiphySDKRequestHeaders();\n  /* istanbul ignore next */\n\n  headers === null || headers === void 0 ? void 0 : headers.set('Content-Type', 'application/json');\n  js_util_1.Logger.debug(\"Pingback session\", events);\n  return fetch(pingBackUrl, {\n    method: 'POST',\n    body: JSON.stringify({\n      events: events\n    }),\n    headers: headers\n  }).catch(function (error) {\n    // Call failed, probably due to adblock.\n    js_util_1.Logger.warn(\"pingbacks failing to post \" + error);\n  });\n};","map":{"version":3,"sources":["../src/send-pingback.ts"],"names":[],"mappings":";;;;;;;;;;;;;AAAA,IAAA,SAAA,GAAA,OAAA,CAAA,gBAAA,CAAA;;AACA,IAAA,QAAA,GAAA,eAAA,CAAA,OAAA,CAAA,UAAA,CAAA,CAAA,C,CAGA;;;AACA,IAAM,WAAW,GAAG,CAAA,QAAA,CAAA,OAAA,KAAE,IAAF,IAAA,QAAA,CAAA,OAAA,KAAE,KAAA,CAAF,GAAE,KAAA,CAAF,GAAA,QAAA,CAAA,OAAA,CAAI,kBAAJ,KAA0B,4BAA9C;AACA,IAAM,WAAW,GAAM,WAAW,GAAA,uCAAlC;;AAEa,OAAA,CAAA,YAAA,GAAe,UAAC,MAAD,EAAwB;AAChD,MAAM,OAAO,GAAG,SAAA,CAAA,yBAAA,EAAhB;AACA;;AACA,EAAA,OAAO,KAAA,IAAP,IAAA,OAAO,KAAA,KAAA,CAAP,GAAO,KAAA,CAAP,GAAA,OAAO,CAAE,GAAT,CAAa,cAAb,EAA6B,kBAA7B,CAAA;AACA,EAAA,SAAA,CAAA,MAAA,CAAO,KAAP,CAAa,kBAAb,EAAiC,MAAjC;AACA,SAAO,KAAK,CAAC,WAAD,EAAc;AACtB,IAAA,MAAM,EAAE,MADc;AAEtB,IAAA,IAAI,EAAE,IAAI,CAAC,SAAL,CAAe;AAAE,MAAA,MAAM,EAAA;AAAR,KAAf,CAFgB;AAGtB,IAAA,OAAO,EAAA;AAHe,GAAd,CAAL,CAIJ,KAJI,CAIE,UAAC,KAAD,EAAM;AACX;AACA,IAAA,SAAA,CAAA,MAAA,CAAO,IAAP,CAAY,+BAA6B,KAAzC;AACH,GAPM,CAAP;AAQH,CAbY","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.sendPingback = void 0;\nvar js_util_1 = require(\"@giphy/js-util\");\nvar global_1 = __importDefault(require(\"./global\"));\n// TODO remove api key\nvar environment = (global_1.default === null || global_1.default === void 0 ? void 0 : global_1.default.GIPHY_PINGBACK_URL) || 'https://pingback.giphy.com';\nvar pingBackUrl = environment + \"/v2/pingback?apikey=l0HlIwPWyBBUDAUgM\";\nexports.sendPingback = function (events) {\n    var headers = js_util_1.getGiphySDKRequestHeaders();\n    /* istanbul ignore next */\n    headers === null || headers === void 0 ? void 0 : headers.set('Content-Type', 'application/json');\n    js_util_1.Logger.debug(\"Pingback session\", events);\n    return fetch(pingBackUrl, {\n        method: 'POST',\n        body: JSON.stringify({ events: events }),\n        headers: headers,\n    }).catch(function (error) {\n        // Call failed, probably due to adblock.\n        js_util_1.Logger.warn(\"pingbacks failing to post \" + error);\n    });\n};\n//# sourceMappingURL=send-pingback.js.map"]},"metadata":{},"sourceType":"script"}