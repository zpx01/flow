{"ast":null,"code":"import React, { useMemo } from 'react';\nimport { useMobilePress } from './hooks';\nimport { QuotedMessage as DefaultQuotedMessage } from './QuotedMessage';\nimport { messageHasAttachments } from './utils';\nimport { useComponentContext } from '../../context/ComponentContext';\nimport { useMessageContext } from '../../context/MessageContext';\nimport { useTranslationContext } from '../../context/TranslationContext';\nimport { renderText as defaultRenderText, isOnlyEmojis } from '../../utils';\n\nvar UnMemoizedMessageTextComponent = function (props) {\n  var _a;\n\n  var customInnerClass = props.customInnerClass,\n      _b = props.customWrapperClass,\n      customWrapperClass = _b === void 0 ? '' : _b,\n      _c = props.theme,\n      theme = _c === void 0 ? 'simple' : _c;\n  var _d = useComponentContext().QuotedMessage,\n      QuotedMessage = _d === void 0 ? DefaultQuotedMessage : _d;\n\n  var _e = useMessageContext(),\n      message = _e.message,\n      onMentionsClickMessage = _e.onMentionsClickMessage,\n      onMentionsHoverMessage = _e.onMentionsHoverMessage,\n      _f = _e.renderText,\n      renderText = _f === void 0 ? defaultRenderText : _f,\n      unsafeHTML = _e.unsafeHTML;\n\n  var _g = useTranslationContext(),\n      t = _g.t,\n      userLanguage = _g.userLanguage;\n\n  var handleMobilePress = useMobilePress().handleMobilePress;\n  var hasAttachment = messageHasAttachments(message);\n  var messageTextToRender = ((_a = message.i18n) === null || _a === void 0 ? void 0 : _a[userLanguage + \"_text\"]) || message.text;\n  var messageText = useMemo(function () {\n    return renderText(messageTextToRender, message.mentioned_users);\n  }, [message.mentioned_users, messageTextToRender]);\n  var wrapperClass = customWrapperClass || 'str-chat__message-text';\n  var innerClass = customInnerClass || \"str-chat__message-text-inner str-chat__message-\" + theme + \"-text-inner\";\n  if (!messageTextToRender) return null;\n  return React.createElement(\"div\", {\n    className: wrapperClass\n  }, React.createElement(\"div\", {\n    className: (\"\\n          \" + innerClass + \"\\n          \" + (hasAttachment ? \" str-chat__message-\" + theme + \"-text-inner--has-attachment\" : '') + \"\\n          \" + (isOnlyEmojis(message.text) && !message.quoted_message ? \" str-chat__message-\" + theme + \"-text-inner--is-emoji\" : '') + \"\\n        \").trim(),\n    \"data-testid\": 'message-text-inner-wrapper',\n    onClick: onMentionsClickMessage,\n    onMouseOver: onMentionsHoverMessage\n  }, message.quoted_message && React.createElement(QuotedMessage, null), message.type === 'error' && React.createElement(\"div\", {\n    className: \"str-chat__\" + theme + \"-message--error-message\"\n  }, t('Error · Unsent')), message.status === 'failed' && React.createElement(\"div\", {\n    className: \"str-chat__\" + theme + \"-message--error-message\"\n  }, message.errorStatusCode !== 403 ? t('Message Failed · Click to try again') : t('Message Failed · Unauthorized')), unsafeHTML && message.html ? React.createElement(\"div\", {\n    dangerouslySetInnerHTML: {\n      __html: message.html\n    }\n  }) : React.createElement(\"div\", {\n    onClick: handleMobilePress\n  }, messageText)));\n};\n\nexport var MessageText = React.memo(UnMemoizedMessageTextComponent);","map":{"version":3,"sources":["/Users/zeeshanpatel/flow/node_modules/stream-chat-react/dist/components/Message/MessageText.js"],"names":["React","useMemo","useMobilePress","QuotedMessage","DefaultQuotedMessage","messageHasAttachments","useComponentContext","useMessageContext","useTranslationContext","renderText","defaultRenderText","isOnlyEmojis","UnMemoizedMessageTextComponent","props","_a","customInnerClass","_b","customWrapperClass","_c","theme","_d","_e","message","onMentionsClickMessage","onMentionsHoverMessage","_f","unsafeHTML","_g","t","userLanguage","handleMobilePress","hasAttachment","messageTextToRender","i18n","text","messageText","mentioned_users","wrapperClass","innerClass","createElement","className","quoted_message","trim","onClick","onMouseOver","type","status","errorStatusCode","html","dangerouslySetInnerHTML","__html","MessageText","memo"],"mappings":"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","sourcesContent":["import React, { useMemo } from 'react';\nimport { useMobilePress } from './hooks';\nimport { QuotedMessage as DefaultQuotedMessage } from './QuotedMessage';\nimport { messageHasAttachments } from './utils';\nimport { useComponentContext } from '../../context/ComponentContext';\nimport { useMessageContext } from '../../context/MessageContext';\nimport { useTranslationContext } from '../../context/TranslationContext';\nimport { renderText as defaultRenderText, isOnlyEmojis } from '../../utils';\nvar UnMemoizedMessageTextComponent = function (props) {\n    var _a;\n    var customInnerClass = props.customInnerClass, _b = props.customWrapperClass, customWrapperClass = _b === void 0 ? '' : _b, _c = props.theme, theme = _c === void 0 ? 'simple' : _c;\n    var _d = useComponentContext().QuotedMessage, QuotedMessage = _d === void 0 ? DefaultQuotedMessage : _d;\n    var _e = useMessageContext(), message = _e.message, onMentionsClickMessage = _e.onMentionsClickMessage, onMentionsHoverMessage = _e.onMentionsHoverMessage, _f = _e.renderText, renderText = _f === void 0 ? defaultRenderText : _f, unsafeHTML = _e.unsafeHTML;\n    var _g = useTranslationContext(), t = _g.t, userLanguage = _g.userLanguage;\n    var handleMobilePress = useMobilePress().handleMobilePress;\n    var hasAttachment = messageHasAttachments(message);\n    var messageTextToRender = ((_a = message.i18n) === null || _a === void 0 ? void 0 : _a[userLanguage + \"_text\"]) || message.text;\n    var messageText = useMemo(function () { return renderText(messageTextToRender, message.mentioned_users); }, [\n        message.mentioned_users,\n        messageTextToRender,\n    ]);\n    var wrapperClass = customWrapperClass || 'str-chat__message-text';\n    var innerClass = customInnerClass || \"str-chat__message-text-inner str-chat__message-\" + theme + \"-text-inner\";\n    if (!messageTextToRender)\n        return null;\n    return (React.createElement(\"div\", { className: wrapperClass },\n        React.createElement(\"div\", { className: (\"\\n          \" + innerClass + \"\\n          \" + (hasAttachment ? \" str-chat__message-\" + theme + \"-text-inner--has-attachment\" : '') + \"\\n          \" + (isOnlyEmojis(message.text) && !message.quoted_message\n                ? \" str-chat__message-\" + theme + \"-text-inner--is-emoji\"\n                : '') + \"\\n        \").trim(), \"data-testid\": 'message-text-inner-wrapper', onClick: onMentionsClickMessage, onMouseOver: onMentionsHoverMessage },\n            message.quoted_message && React.createElement(QuotedMessage, null),\n            message.type === 'error' && (React.createElement(\"div\", { className: \"str-chat__\" + theme + \"-message--error-message\" }, t('Error · Unsent'))),\n            message.status === 'failed' && (React.createElement(\"div\", { className: \"str-chat__\" + theme + \"-message--error-message\" }, message.errorStatusCode !== 403\n                ? t('Message Failed · Click to try again')\n                : t('Message Failed · Unauthorized'))),\n            unsafeHTML && message.html ? (React.createElement(\"div\", { dangerouslySetInnerHTML: { __html: message.html } })) : (React.createElement(\"div\", { onClick: handleMobilePress }, messageText)))));\n};\nexport var MessageText = React.memo(UnMemoizedMessageTextComponent);\n"]},"metadata":{},"sourceType":"module"}