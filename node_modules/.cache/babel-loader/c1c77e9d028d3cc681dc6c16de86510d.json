{"ast":null,"code":"import _toConsumableArray from\"/Users/zeeshanpatel/flow/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/zeeshanpatel/flow/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect}from\"react\";import axios from\"axios\";import firebase from\"firebase\";import{Box,Heading,Center,Input,Button,Text}from\"@chakra-ui/react\";import{Card}from\"./Card\";import{ChatBox}from\"./ChatBox\";import{Navbar}from\"./Navbar\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Chat=function Chat(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),humanMessages=_useState2[0],setHumanMessages=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),message=_useState4[0],setMessage=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),aiMessages=_useState6[0],setAiMessages=_useState6[1];var user={header:\"Access-Control-Allow-Origin\",token:firebase.auth().currentUser.getIdToken(),email:firebase.auth().currentUser.email};var handleMessage=function handleMessage(e){setMessage(e.target.value);};var sendMessage=function sendMessage(e){var messageText={header:\"Access-Control-Allow-Origin\",text:message};setHumanMessages([].concat(_toConsumableArray(humanMessages),[message]));axios.post(\"https://flow-0.herokuapp.com/home\",user).then(function(response){axios.post(\"https://flow-0.herokuapp.com/chat\",messageText).then(function(res){setAiMessages([].concat(_toConsumableArray(aiMessages),[res.data.data]));});});setMessage(\"\");};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(Box,{minH:\"100vh\",py:\"12\",px:{base:\"4\",lg:\"8\"},bgGradient:\"linear(to-l, #7928CA, #FF0080)\",children:/*#__PURE__*/_jsxs(Box,{maxW:\"md\",mx:\"auto\",children:[/*#__PURE__*/_jsx(Center,{children:/*#__PURE__*/_jsx(Heading,{color:\"white\",fontSize:\"5xl\",fontWeight:\"extrabold\",children:\"AI Chat Therapy\"})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(ChatBox,{humanMessages:humanMessages,aiMessages:aiMessages}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Input,{value:message,onChange:handleMessage,variant:\"filled\",placeholder:\"Write a message to our AI Therapist\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Center,{children:/*#__PURE__*/_jsx(Button,{onClick:sendMessage,colorScheme:\"facebook\",children:\"Send\"})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{})]})]})})]});};","map":{"version":3,"sources":["/Users/zeeshanpatel/flow/src/components/Chat.js"],"names":["useState","useEffect","axios","firebase","Box","Heading","Center","Input","Button","Text","Card","ChatBox","Navbar","Chat","humanMessages","setHumanMessages","message","setMessage","aiMessages","setAiMessages","user","header","token","auth","currentUser","getIdToken","email","handleMessage","e","target","value","sendMessage","messageText","text","post","then","response","res","data","base","lg"],"mappings":"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","sourcesContent":["import { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport firebase from \"firebase\";\nimport { Box, Heading, Center, Input, Button, Text } from \"@chakra-ui/react\";\nimport { Card } from \"./Card\";\nimport { ChatBox } from \"./ChatBox\";\nimport { Navbar } from \"./Navbar\";\nexport const Chat = () => {\n  let [humanMessages, setHumanMessages] = useState([]);\n  let [message, setMessage] = useState(\"\");\n  let [aiMessages, setAiMessages] = useState([]);\n  let user = {\n    header: \"Access-Control-Allow-Origin\",\n    token: firebase.auth().currentUser.getIdToken(),\n    email: firebase.auth().currentUser.email,\n  };\n  let handleMessage = (e) => {\n    setMessage(e.target.value);\n  };\n  let sendMessage = (e) => {\n    let messageText = {\n      header: \"Access-Control-Allow-Origin\",\n      text: message,\n    };\n    setHumanMessages([...humanMessages, message]);\n    axios.post(\"https://flow-0.herokuapp.com/home\", user).then((response) => {\n      axios.post(\"https://flow-0.herokuapp.com/chat\", messageText).then((res) => {\n        setAiMessages([...aiMessages, res.data.data]);\n      });\n    });\n    setMessage(\"\");\n  };\n\n  return (\n    <div>\n        <Navbar />\n      <Box\n        minH=\"100vh\"\n        py=\"12\"\n        px={{\n          base: \"4\",\n          lg: \"8\",\n        }}\n        bgGradient=\"linear(to-l, #7928CA, #FF0080)\"\n      >\n        <Box maxW=\"md\" mx=\"auto\">\n          <Center>\n            <Heading color=\"white\" fontSize=\"5xl\" fontWeight=\"extrabold\">\n              AI Chat Therapy\n            </Heading>\n          </Center>\n          <br />\n          <br />\n          <Card>\n          <ChatBox humanMessages={humanMessages} aiMessages={aiMessages}/>\n          <br />\n          <br />\n          <br />\n          <br />\n          <Input\n            value={message}\n            onChange={handleMessage}\n            variant=\"filled\"\n            placeholder=\"Write a message to our AI Therapist\"\n          />\n          <br />\n          <br />\n          <Center>\n            <Button onClick={sendMessage} colorScheme={\"facebook\"}>Send</Button>\n          </Center>\n          <br />\n          <br />\n          </Card>\n        </Box>\n      </Box>\n    </div>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}