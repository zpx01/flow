{"ast":null,"code":"import React, { useCallback, useState, useEffect } from 'react';\nimport Dropzone from 'react-dropzone';\n/**\n * An icon of a paperclip, which is used as the default icon for FileUploadButton\n */\n\nvar AttachmentIcon = function () {\n  return React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"24\",\n    height: \"20\",\n    viewBox: \"0 0 24 24\"\n  }, React.createElement(\"path\", {\n    d: \"M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5a2.5 2.5 0 0 1 5 0v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5a2.5 2.5 0 0 0 5 0V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6h-1.5z\"\n  }), React.createElement(\"path\", {\n    d: \"M0 0h24v24H0z\",\n    fill: \"none\"\n  }));\n};\n\nvar wordMimeTypes = [// Microsoft Word\n// .doc .dot\n'application/msword', // .doc .dot\n'application/msword-template', // .docx\n'application/vnd.openxmlformats-officedocument.wordprocessingml.document', // .dotx (no test)\n'application/vnd.openxmlformats-officedocument.wordprocessingml.template', // .docm\n'application/vnd.ms-word.document.macroEnabled.12', // .dotm (no test)\n'application/vnd.ms-word.template.macroEnabled.12', // LibreOffice/OpenOffice Writer\n// .odt\n'application/vnd.oasis.opendocument.text', // .ott\n'application/vnd.oasis.opendocument.text-template', // .fodt\n'application/vnd.oasis.opendocument.text-flat-xml' // .uot\n// NOTE: firefox doesn't know mimetype so maybe ignore\n];\nvar excelMimeTypes = [// .csv\n'text/csv', // TODO: maybe more data files\n// Microsoft Excel\n// .xls .xlt .xla (no test for .xla)\n'application/vnd.ms-excel', // .xlsx\n'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet', // .xltx (no test)\n'application/vnd.openxmlformats-officedocument.spreadsheetml.template', // .xlsm\n'application/vnd.ms-excel.sheet.macroEnabled.12', // .xltm (no test)\n'application/vnd.ms-excel.template.macroEnabled.12', // .xlam (no test)\n'application/vnd.ms-excel.addin.macroEnabled.12', // .xlsb (no test)\n'application/vnd.ms-excel.addin.macroEnabled.12', // LibreOffice/OpenOffice Calc\n// .ods\n'application/vnd.oasis.opendocument.spreadsheet', // .ots\n'application/vnd.oasis.opendocument.spreadsheet-template', // .fods\n'application/vnd.oasis.opendocument.spreadsheet-flat-xml' // .uos\n// NOTE: firefox doesn't know mimetype so maybe ignore\n];\nvar powerpointMimeTypes = [// Microsoft Word\n// .ppt .pot .pps .ppa (no test for .ppa)\n'application/vnd.ms-powerpoint', // .pptx\n'application/vnd.openxmlformats-officedocument.presentationml.presentation', // .potx (no test)\n'application/vnd.openxmlformats-officedocument.presentationml.template', // .ppsx\n'application/vnd.openxmlformats-officedocument.presentationml.slideshow', // .ppam\n'application/vnd.ms-powerpoint.addin.macroEnabled.12', // .pptm\n'application/vnd.ms-powerpoint.presentation.macroEnabled.12', // .potm\n'application/vnd.ms-powerpoint.template.macroEnabled.12', // .ppsm\n'application/vnd.ms-powerpoint.slideshow.macroEnabled.12', // LibreOffice/OpenOffice Writer\n// .odp\n'application/vnd.oasis.opendocument.presentation', // .otp\n'application/vnd.oasis.opendocument.presentation-template', // .fodp\n'application/vnd.oasis.opendocument.presentation-flat-xml' // .uop\n// NOTE: firefox doesn't know mimetype so maybe ignore\n];\nvar archiveFileTypes = [// .zip\n'application/zip', // .z7\n'application/x-7z-compressed', // .ar\n'application/x-archive', // .tar\n'application/x-tar', // .tar.gz\n'application/gzip', // .tar.Z\n'application/x-compress', // .tar.bz2\n'application/x-bzip', // .tar.lz\n'application/x-lzip', // .tar.lz4\n'application/x-lz4', // .tar.lzma\n'application/x-lzma', // .tar.lzo (no test)\n'application/x-lzop', // .tar.xz\n'application/x-xz', // .war\n'application/x-webarchive', // .rar\n'application/vnd.rar'];\nvar codeFileTypes = [// .html .htm\n'text/html', // .css\n'text/css', // .js\n'application/x-javascript', // .json\n'application/json', // .py\n'text/x-python', // .go\n'text/x-go', // .c\n'text/x-csrc', // .cpp\n'text/x-c++src', // .rb\n'application/x-ruby', // .rust\n'text/rust', // .java\n'text/x-java', // .php\n'application/x-php', // .cs\n'text/x-csharp', // .scala\n'text/x-scala', // .erl\n'text/x-erlang', // .sh\n'application/x-shellscript'];\n/**\n * Font Awesome Free 5.15.3 by @fontawesome - https://fontawesome.com\n * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)\n */\n\nvar FilePdfIcon = function (_a) {\n  var _b = _a.size,\n      size = _b === void 0 ? 20 : _b;\n  return React.createElement(\"svg\", {\n    className: \"rfu-file-icon--small fa-file-pdf\",\n    height: size,\n    width: size,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 384 512\"\n  }, React.createElement(\"path\", {\n    d: \"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm250.2-143.7c-12.2-12-47-8.7-64.4-6.5-17.2-10.5-28.7-25-36.8-46.3 3.9-16.1 10.1-40.6 5.4-56-4.2-26.2-37.8-23.6-42.6-5.9-4.4 16.1-.4 38.5 7 67.1-10 23.9-24.9 56-35.4 74.4-20 10.3-47 26.2-51 46.2-3.3 15.8 26 55.2 76.1-31.2 22.4-7.4 46.8-16.5 68.4-20.1 18.9 10.2 41 17 55.8 17 25.5 0 28-28.2 17.5-38.7zm-198.1 77.8c5.1-13.7 24.5-29.5 30.4-35-19 30.3-30.4 35.7-30.4 35zm81.6-190.6c7.4 0 6.7 32.1 1.8 40.8-4.4-13.9-4.3-40.8-1.8-40.8zm-24.4 136.6c9.7-16.9 18-37 24.7-54.7 8.3 15.1 18.9 27.2 30.1 35.5-20.8 4.3-38.9 13.1-54.8 19.2zm131.6-5s-5 6-37.3-7.8c35.1-2.6 40.9 5.4 37.3 7.8z\",\n    fill: \"#f82903\"\n  }));\n};\n\nvar FileWordIcon = function (_a) {\n  var _b = _a.size,\n      size = _b === void 0 ? 20 : _b;\n  return React.createElement(\"svg\", {\n    className: \"rfu-file-icon--small fa-file-word\",\n    height: size,\n    width: size,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 384 512\"\n  }, React.createElement(\"path\", {\n    d: \"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm220.1-208c-5.7 0-10.6 4-11.7 9.5-20.6 97.7-20.4 95.4-21 103.5-.2-1.2-.4-2.6-.7-4.3-.8-5.1.3.2-23.6-99.5-1.3-5.4-6.1-9.2-11.7-9.2h-13.3c-5.5 0-10.3 3.8-11.7 9.1-24.4 99-24 96.2-24.8 103.7-.1-1.1-.2-2.5-.5-4.2-.7-5.2-14.1-73.3-19.1-99-1.1-5.6-6-9.7-11.8-9.7h-16.8c-7.8 0-13.5 7.3-11.7 14.8 8 32.6 26.7 109.5 33.2 136 1.3 5.4 6.1 9.1 11.7 9.1h25.2c5.5 0 10.3-3.7 11.6-9.1l17.9-71.4c1.5-6.2 2.5-12 3-17.3l2.9 17.3c.1.4 12.6 50.5 17.9 71.4 1.3 5.3 6.1 9.1 11.6 9.1h24.7c5.5 0 10.3-3.7 11.6-9.1 20.8-81.9 30.2-119 34.5-136 1.9-7.6-3.8-14.9-11.6-14.9h-15.8z\",\n    fill: \"#2c599d\"\n  }));\n};\n\nvar FilePowerPointIcon = function (_a) {\n  var _b = _a.size,\n      size = _b === void 0 ? 20 : _b;\n  return React.createElement(\"svg\", {\n    className: \"rfu-file-icon--small fa-file-powerpoint\",\n    height: size,\n    width: size,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 384 512\"\n  }, React.createElement(\"path\", {\n    d: \"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm72-60V236c0-6.6 5.4-12 12-12h69.2c36.7 0 62.8 27 62.8 66.3 0 74.3-68.7 66.5-95.5 66.5V404c0 6.6-5.4 12-12 12H132c-6.6 0-12-5.4-12-12zm48.5-87.4h23c7.9 0 13.9-2.4 18.1-7.2 8.5-9.8 8.4-28.5.1-37.8-4.1-4.6-9.9-7-17.4-7h-23.9v52z\",\n    fill: \"#cb4a32\"\n  }));\n};\n\nvar FileExcelIcon = function (_a) {\n  var _b = _a.size,\n      size = _b === void 0 ? 20 : _b;\n  return React.createElement(\"svg\", {\n    className: \"rfu-file-icon--small fa-file-excel\",\n    height: size,\n    width: size,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 384 512\"\n  }, React.createElement(\"path\", {\n    d: \"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm212-240h-28.8c-4.4 0-8.4 2.4-10.5 6.3-18 33.1-22.2 42.4-28.6 57.7-13.9-29.1-6.9-17.3-28.6-57.7-2.1-3.9-6.2-6.3-10.6-6.3H124c-9.3 0-15 10-10.4 18l46.3 78-46.3 78c-4.7 8 1.1 18 10.4 18h28.9c4.4 0 8.4-2.4 10.5-6.3 21.7-40 23-45 28.6-57.7 14.9 30.2 5.9 15.9 28.6 57.7 2.1 3.9 6.2 6.3 10.6 6.3H260c9.3 0 15-10 10.4-18L224 320c.7-1.1 30.3-50.5 46.3-78 4.7-8-1.1-18-10.3-18z\",\n    fill: \"#207245\"\n  }));\n};\n\nvar FileArchiveIcon = function (_a) {\n  var _b = _a.size,\n      size = _b === void 0 ? 20 : _b;\n  return React.createElement(\"svg\", {\n    className: \"rfu-file-icon--small fa-file-archive\",\n    height: size,\n    width: size,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 384 512\"\n  }, React.createElement(\"path\", {\n    d: \"M128.3 160v32h32v-32zm64-96h-32v32h32zm-64 32v32h32V96zm64 32h-32v32h32zm177.6-30.1L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM256 51.9l76.1 76.1H256zM336 464H48V48h79.7v16h32V48H208v104c0 13.3 10.7 24 24 24h104zM194.2 265.7c-1.1-5.6-6-9.7-11.8-9.7h-22.1v-32h-32v32l-19.7 97.1C102 385.6 126.8 416 160 416c33.1 0 57.9-30.2 51.5-62.6zm-33.9 124.4c-17.9 0-32.4-12.1-32.4-27s14.5-27 32.4-27 32.4 12.1 32.4 27-14.5 27-32.4 27zm32-198.1h-32v32h32z\",\n    fill: \"#414D54\"\n  }));\n};\n\nvar FileCodeIcon = function (_a) {\n  var _b = _a.size,\n      size = _b === void 0 ? 20 : _b;\n  return React.createElement(\"svg\", {\n    className: \"rfu-file-icon--small fa-file-code\",\n    height: size,\n    width: size,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 384 512\"\n  }, React.createElement(\"path\", {\n    d: \"M149.9 349.1l-.2-.2-32.8-28.9 32.8-28.9c3.6-3.2 4-8.8.8-12.4l-.2-.2-17.4-18.6c-3.4-3.6-9-3.7-12.4-.4l-57.7 54.1c-3.7 3.5-3.7 9.4 0 12.8l57.7 54.1c1.6 1.5 3.8 2.4 6 2.4 2.4 0 4.8-1 6.4-2.8l17.4-18.6c3.3-3.5 3.1-9.1-.4-12.4zm220-251.2L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM256 51.9l76.1 76.1H256zM336 464H48V48h160v104c0 13.3 10.7 24 24 24h104zM209.6 214c-4.7-1.4-9.5 1.3-10.9 6L144 408.1c-1.4 4.7 1.3 9.6 6 10.9l24.4 7.1c4.7 1.4 9.6-1.4 10.9-6L240 231.9c1.4-4.7-1.3-9.6-6-10.9zm24.5 76.9l.2.2 32.8 28.9-32.8 28.9c-3.6 3.2-4 8.8-.8 12.4l.2.2 17.4 18.6c3.3 3.5 8.9 3.7 12.4.4l57.7-54.1c3.7-3.5 3.7-9.4 0-12.8l-57.7-54.1c-3.5-3.3-9.1-3.2-12.4.4l-17.4 18.6c-3.3 3.5-3.1 9.1.4 12.4z\",\n    fill: \"#414D54\"\n  }));\n};\n\nvar FileAudioIcon = function (_a) {\n  var _b = _a.size,\n      size = _b === void 0 ? 20 : _b;\n  return React.createElement(\"svg\", {\n    className: \"rfu-file-icon--small fa-file-audio\",\n    height: size,\n    width: size,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 384 512\"\n  }, React.createElement(\"path\", {\n    d: \"M369.941 97.941l-83.882-83.882A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v416c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48V131.882a48 48 0 0 0-14.059-33.941zM332.118 128H256V51.882L332.118 128zM48 464V48h160v104c0 13.255 10.745 24 24 24h104v288H48zm144-76.024c0 10.691-12.926 16.045-20.485 8.485L136 360.486h-28c-6.627 0-12-5.373-12-12v-56c0-6.627 5.373-12 12-12h28l35.515-36.947c7.56-7.56 20.485-2.206 20.485 8.485v135.952zm41.201-47.13c9.051-9.297 9.06-24.133.001-33.439-22.149-22.752 12.235-56.246 34.395-33.481 27.198 27.94 27.212 72.444.001 100.401-21.793 22.386-56.947-10.315-34.397-33.481z\",\n    fill: \"#414D54\"\n  }));\n};\n\nvar FileVideoIcon = function (_a) {\n  var _b = _a.size,\n      size = _b === void 0 ? 20 : _b;\n  return React.createElement(\"svg\", {\n    className: \"rfu-file-icon--small fa-file-video\",\n    height: size,\n    width: size,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 384 512\"\n  }, React.createElement(\"path\", {\n    d: \"M369.941 97.941l-83.882-83.882A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v416c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48V131.882a48 48 0 0 0-14.059-33.941zM332.118 128H256V51.882L332.118 128zM48 464V48h160v104c0 13.255 10.745 24 24 24h104v288H48zm228.687-211.303L224 305.374V268c0-11.046-8.954-20-20-20H100c-11.046 0-20 8.954-20 20v104c0 11.046 8.954 20 20 20h104c11.046 0 20-8.954 20-20v-37.374l52.687 52.674C286.704 397.318 304 390.28 304 375.986V264.011c0-14.311-17.309-21.319-27.313-11.314z\",\n    fill: \"#414D54\"\n  }));\n};\n\nvar FileImageIcon = function (_a) {\n  var _b = _a.size,\n      size = _b === void 0 ? 20 : _b;\n  return React.createElement(\"svg\", {\n    className: \"rfu-file-icon--small fa-file-image\",\n    height: size,\n    width: size,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 384 512\"\n  }, React.createElement(\"path\", {\n    d: \"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm32-48h224V288l-23.5-23.5c-4.7-4.7-12.3-4.7-17 0L176 352l-39.5-39.5c-4.7-4.7-12.3-4.7-17 0L80 352v64zm48-240c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48z\",\n    fill: \"#414D54\"\n  }));\n};\n\nvar FileAltIcon = function (_a) {\n  var _b = _a.size,\n      size = _b === void 0 ? 20 : _b;\n  return React.createElement(\"svg\", {\n    className: \"rfu-file-icon--small fa-file-alt\",\n    height: size,\n    width: size,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 384 512\"\n  }, React.createElement(\"path\", {\n    d: \"M288 248v28c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-28c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm-12 72H108c-6.6 0-12 5.4-12 12v28c0 6.6 5.4 12 12 12h168c6.6 0 12-5.4 12-12v-28c0-6.6-5.4-12-12-12zm108-188.1V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V48C0 21.5 21.5 0 48 0h204.1C264.8 0 277 5.1 286 14.1L369.9 98c9 8.9 14.1 21.2 14.1 33.9zm-128-80V128h76.1L256 51.9zM336 464V176H232c-13.3 0-24-10.7-24-24V48H48v416h288z\",\n    fill: \"#414D54\"\n  }));\n};\n\nvar FileFallbackIcon = function (_a) {\n  var _b = _a.size,\n      size = _b === void 0 ? 20 : _b;\n  return React.createElement(\"svg\", {\n    className: \"rfu-file-icon--small fa-file-fallback\",\n    height: size,\n    width: size,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 384 512\"\n  }, React.createElement(\"path\", {\n    d: \"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48z\",\n    fill: \"#414D54\"\n  }));\n}; // Partially based on: https://stackoverflow.com/a/4212908/2570866\n\n\nvar mimeTypeToIconMap = {\n  'application/pdf': FilePdfIcon\n};\n\nfor (var _i = 0, wordMimeTypes_1 = wordMimeTypes; _i < wordMimeTypes_1.length; _i++) {\n  var type = wordMimeTypes_1[_i];\n  mimeTypeToIconMap[type] = FileWordIcon;\n}\n\nfor (var _a = 0, excelMimeTypes_1 = excelMimeTypes; _a < excelMimeTypes_1.length; _a++) {\n  var type = excelMimeTypes_1[_a];\n  mimeTypeToIconMap[type] = FileExcelIcon;\n}\n\nfor (var _b = 0, powerpointMimeTypes_1 = powerpointMimeTypes; _b < powerpointMimeTypes_1.length; _b++) {\n  var type = powerpointMimeTypes_1[_b];\n  mimeTypeToIconMap[type] = FilePowerPointIcon;\n}\n\nfor (var _c = 0, archiveFileTypes_1 = archiveFileTypes; _c < archiveFileTypes_1.length; _c++) {\n  var type = archiveFileTypes_1[_c];\n  mimeTypeToIconMap[type] = FileArchiveIcon;\n}\n\nfor (var _d = 0, codeFileTypes_1 = codeFileTypes; _d < codeFileTypes_1.length; _d++) {\n  var type = codeFileTypes_1[_d];\n  mimeTypeToIconMap[type] = FileCodeIcon;\n}\n\nfunction mimeTypeToIcon(mimeType) {\n  if (mimeType == null) return FileFallbackIcon;\n  var icon = mimeTypeToIconMap[mimeType];\n  if (icon) return icon;\n  if (mimeType.startsWith('audio/')) return FileAudioIcon;\n  if (mimeType.startsWith('video/')) return FileVideoIcon;\n  if (mimeType.startsWith('image/')) return FileImageIcon;\n  if (mimeType.startsWith('text/')) return FileAltIcon;\n  return FileFallbackIcon;\n}\n\nvar FileIcon = function (props) {\n  var _a = props.big,\n      big = _a === void 0 ? false : _a,\n      mimeType = props.mimeType,\n      _b = props.size,\n      size = _b === void 0 ? 50 : _b,\n      _c = props.sizeSmall,\n      sizeSmall = _c === void 0 ? 20 : _c;\n  var Icon = mimeTypeToIcon(mimeType);\n  return React.createElement(Icon, {\n    size: big ? size : sizeSmall\n  });\n};\n\nvar LoadingIndicator = function (props) {\n  var _a = props.size,\n      size = _a === void 0 ? 20 : _a,\n      _b = props.width,\n      width = _b === void 0 ? 2 : _b,\n      backgroundColor = props.backgroundColor,\n      color = props.color;\n  return React.createElement(\"div\", {\n    className: \"rfu-loading-indicator__spinner\",\n    style: {\n      margin: '0 auto',\n      borderColor: backgroundColor ? backgroundColor : '',\n      borderTopColor: color ? color : '',\n      width: size ? size : '',\n      height: size ? size : '',\n      borderWidth: width ? width : ''\n    }\n  });\n};\n/**\n * Component that displays files which are being uploaded\n */\n\n\nvar FilePreviewer = function (_a) {\n  var uploads = _a.uploads,\n      handleRemove = _a.handleRemove,\n      handleRetry = _a.handleRetry;\n  return React.createElement(\"div\", {\n    className: \"rfu-file-previewer\"\n  }, React.createElement(\"ol\", null, uploads && uploads.map(function (upload) {\n    return React.createElement(\"li\", {\n      key: upload.id,\n      className: \"rfu-file-previewer__file \" + (upload.state === 'uploading' ? 'rfu-file-previewer__file--uploading' : '') + \" \" + (upload.state === 'failed' ? 'rfu-file-previewer__file--failed' : '')\n    }, React.createElement(FileIcon, {\n      mimeType: upload.file.type,\n      filename: upload.file.name\n    }), React.createElement(\"a\", {\n      href: upload.url,\n      download: true\n    }, upload.file.name, upload.state === 'failed' && React.createElement(React.Fragment, null, React.createElement(\"div\", {\n      className: \"rfu-file-previewer__failed\",\n      onClick: handleRetry && function () {\n        return handleRetry(upload.id);\n      }\n    }, \"failed\"), React.createElement(\"div\", {\n      className: \"rfu-file-previewer__retry\",\n      onClick: handleRetry && function () {\n        return handleRetry(upload.id);\n      }\n    }, \"retry\"))), React.createElement(\"span\", {\n      className: \"rfu-file-previewer__close-button\",\n      onClick: handleRemove && function () {\n        return handleRemove(upload.id);\n      }\n    }, \"\\u2718\"), upload.state === 'uploading' && React.createElement(\"div\", {\n      className: \"rfu-file-previewer__loading-indicator\"\n    }, React.createElement(LoadingIndicator, null)));\n  })));\n};\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\n\n\nvar __assign = function () {\n  __assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nfunction __awaiter(thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\n\nfunction __generator(thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function () {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) try {\n      if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n      if (y = 0, t) op = [op[0] & 2, t.value];\n\n      switch (op[0]) {\n        case 0:\n        case 1:\n          t = op;\n          break;\n\n        case 4:\n          _.label++;\n          return {\n            value: op[1],\n            done: false\n          };\n\n        case 5:\n          _.label++;\n          y = op[1];\n          op = [0];\n          continue;\n\n        case 7:\n          op = _.ops.pop();\n\n          _.trys.pop();\n\n          continue;\n\n        default:\n          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n            _ = 0;\n            continue;\n          }\n\n          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n            _.label = op[1];\n            break;\n          }\n\n          if (op[0] === 6 && _.label < t[1]) {\n            _.label = t[1];\n            t = op;\n            break;\n          }\n\n          if (t && _.label < t[2]) {\n            _.label = t[2];\n\n            _.ops.push(op);\n\n            break;\n          }\n\n          if (t[2]) _.ops.pop();\n\n          _.trys.pop();\n\n          continue;\n      }\n\n      op = body.call(thisArg, _);\n    } catch (e) {\n      op = [6, e];\n      y = 0;\n    } finally {\n      f = t = 0;\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n}\n\nfunction dataTransferItemsHaveFiles(items) {\n  if (!items || !items.length) {\n    return false;\n  }\n\n  for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {\n    var item = items_1[_i];\n\n    if (item.kind === 'file' || item.type === 'text/html') {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction getFileLikes(items) {\n  var fileLikes = [];\n\n  for (var _i = 0, items_2 = items; _i < items_2.length; _i++) {\n    var item = items_2[_i];\n\n    if (item.kind === 'file') {\n      var file = item.getAsFile();\n\n      if (file) {\n        fileLikes.push(file);\n      }\n    }\n  }\n\n  return fileLikes;\n}\n\nfunction getImageSource(fileLikes, src) {\n  return __awaiter(this, void 0, void 0, function () {\n    var res, e_1, contentType, buf, blob;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          _a.trys.push([0, 2,, 3]);\n\n          return [4\n          /*yield*/\n          , fetch(src)];\n\n        case 1:\n          res = _a.sent();\n          return [3\n          /*break*/\n          , 3];\n\n        case 2:\n          e_1 = _a.sent();\n          return [2\n          /*return*/\n          ];\n\n        case 3:\n          contentType = res.headers.get('Content-type') || 'application/octet-stream';\n          return [4\n          /*yield*/\n          , res.arrayBuffer()];\n\n        case 4:\n          buf = _a.sent();\n          blob = new Blob([buf], {\n            type: contentType\n          });\n          fileLikes.push(blob);\n          return [2\n          /*return*/\n          ];\n      }\n    });\n  });\n}\n\nvar extractImageSources = function (s) {\n  var imageTags = new DOMParser().parseFromString(s, 'text/html').getElementsByTagName('img');\n  return Array.from(imageTags, function (tag) {\n    return tag.src;\n  }).filter(function (tag) {\n    return tag;\n  });\n};\n\nfunction dataTransferItemsToFiles(items) {\n  return __awaiter(this, void 0, void 0, function () {\n    var fileLikes, blobPromises, _loop_1, _i, items_3, item;\n\n    var _this = this;\n\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          if (!items || !items.length) {\n            return [2\n            /*return*/\n            , []];\n          }\n\n          fileLikes = getFileLikes(items);\n\n          if (fileLikes.length) {\n            return [2\n            /*return*/\n            , fileLikes];\n          }\n\n          blobPromises = [];\n\n          _loop_1 = function (item) {\n            if (item.type === 'text/html') {\n              blobPromises.push(new Promise(function (accept) {\n                item.getAsString(function (s) {\n                  return __awaiter(_this, void 0, void 0, function () {\n                    var imagePromises;\n                    return __generator(this, function (_a) {\n                      switch (_a.label) {\n                        case 0:\n                          imagePromises = extractImageSources(s).map(function (src) {\n                            return getImageSource(fileLikes, src);\n                          });\n                          return [4\n                          /*yield*/\n                          , Promise.all(imagePromises)];\n\n                        case 1:\n                          _a.sent();\n\n                          accept();\n                          return [2\n                          /*return*/\n                          ];\n                      }\n                    });\n                  });\n                });\n              }));\n            }\n          };\n\n          for (_i = 0, items_3 = items; _i < items_3.length; _i++) {\n            item = items_3[_i];\n\n            _loop_1(item);\n          }\n\n          return [4\n          /*yield*/\n          , Promise.all(blobPromises)];\n\n        case 1:\n          _a.sent();\n\n          return [2\n          /*return*/\n          , fileLikes];\n      }\n    });\n  });\n}\n\nvar useHandleFileChangeWrapper = function (resetOnChange, handler) {\n  if (resetOnChange === void 0) {\n    resetOnChange = false;\n  }\n\n  return function (_a) {\n    var currentTarget = _a.currentTarget;\n    var files = currentTarget.files;\n    if (!files) return;\n\n    try {\n      handler === null || handler === void 0 ? void 0 : handler(Array.from(files));\n    } catch (error) {\n      console.error(error);\n    }\n\n    if (resetOnChange) currentTarget.value = '';\n  };\n};\n\nvar FileUploadButton = function (_a) {\n  var _b = _a.disabled,\n      disabled = _b === void 0 ? false : _b,\n      _c = _a.multiple,\n      multiple = _c === void 0 ? false : _c,\n      _d = _a.children,\n      children = _d === void 0 ? React.createElement(AttachmentIcon, null) : _d,\n      handleFiles = _a.handleFiles,\n      accepts = _a.accepts,\n      _e = _a.resetOnChange,\n      resetOnChange = _e === void 0 ? true : _e;\n  var className = 'rfu-file-upload-button';\n\n  if (disabled) {\n    className = className + \" rfu-file-upload-button--disabled\";\n  }\n\n  var onFileChange = useHandleFileChangeWrapper(resetOnChange, handleFiles);\n  return React.createElement(\"div\", {\n    className: className\n  }, React.createElement(\"label\", null, React.createElement(\"input\", {\n    type: \"file\",\n    className: \"rfu-file-input\",\n    onChange: onFileChange,\n    multiple: multiple,\n    disabled: disabled,\n    accept: Array.isArray(accepts) ? accepts.join(',') : accepts\n  }), children));\n};\n/**\n * This is simply a button wrapper, add's a div with `role=\"button\"` and a onClick\n */\n\n\nvar IconButton = function (_a) {\n  var onClick = _a.onClick,\n      children = _a.children;\n  return React.createElement(\"div\", {\n    className: \"rfu-icon-button\",\n    role: \"button\",\n    onClick: onClick\n  }, children);\n};\n\nvar ImageDropzone = function (_a) {\n  var handleFiles = _a.handleFiles,\n      maxNumberOfFiles = _a.maxNumberOfFiles,\n      children = _a.children,\n      accept = _a.accept,\n      multiple = _a.multiple,\n      disabled = _a.disabled;\n  var handleDrop = useCallback(function (accepted) {\n    if (!handleFiles) {\n      return;\n    }\n\n    if (accepted && accepted.length) {\n      handleFiles(accepted);\n    }\n  }, [handleFiles]);\n  return React.createElement(Dropzone, {\n    onDrop: handleDrop,\n    maxFiles: maxNumberOfFiles,\n    accept: accept,\n    multiple: multiple,\n    disabled: disabled\n  }, function (_a) {\n    var getRootProps = _a.getRootProps,\n        isDragAccept = _a.isDragAccept,\n        isDragReject = _a.isDragReject;\n    return React.createElement(\"div\", __assign({}, getRootProps({\n      style: {\n        position: 'relative'\n      },\n      className: \"\\n          rfu-dropzone\\n          \" + (isDragAccept ? 'rfu-dropzone--accept' : '') + \"\\n          \" + (isDragReject ? 'rfu-dropzone--reject' : '') + \"\\n        \"\n    })), React.createElement(\"div\", {\n      className: \"rfu-dropzone__notifier\"\n    }, React.createElement(\"div\", {\n      className: \"rfu-dropzone__inner\"\n    }, React.createElement(\"svg\", {\n      width: \"41\",\n      height: \"41\",\n      viewBox: \"0 0 41 41\",\n      xmlns: \"http://www.w3.org/2000/svg\"\n    }, React.createElement(\"path\", {\n      d: \"M40.517 28.002V3.997c0-2.197-1.808-3.992-4.005-3.992H12.507a4.004 4.004 0 0 0-3.992 3.993v24.004a4.004 4.004 0 0 0 3.992 3.993h24.005c2.197 0 4.005-1.795 4.005-3.993zm-22.002-7.997l4.062 5.42 5.937-7.423 7.998 10H12.507l6.008-7.997zM.517 8.003V36c0 2.198 1.795 4.005 3.993 4.005h27.997V36H4.51V8.002H.517z\",\n      fill: \"#000\",\n      fillRule: \"nonzero\"\n    })), React.createElement(\"p\", null, \"Drag your files here to add to your post\"))), children);\n  });\n};\n\nvar placeholder = \"data:image/png;base64,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\";\nvar svg = '<svg width=\"28\" height=\"28\" viewBox=\"0 0 28 28\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"><defs><path d=\"M465 5c5.53 0 10 4.47 10 10s-4.47 10-10 10-10-4.47-10-10 4.47-10 10-10zm3.59 5L465 13.59 461.41 10 460 11.41l3.59 3.59-3.59 3.59 1.41 1.41 3.59-3.59 3.59 3.59 1.41-1.41-3.59-3.59 3.59-3.59-1.41-1.41z\" id=\"b\"/><filter x=\"-30%\" y=\"-30%\" width=\"160%\" height=\"160%\" filterUnits=\"objectBoundingBox\" id=\"a\"><feOffset in=\"SourceAlpha\" result=\"shadowOffsetOuter1\"/><feGaussianBlur stdDeviation=\"2\" in=\"shadowOffsetOuter1\" result=\"shadowBlurOuter1\"/><feColorMatrix values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.5 0\" in=\"shadowBlurOuter1\"/></filter></defs><g transform=\"translate(-451 -1)\" fill-rule=\"nonzero\" fill=\"none\"><use fill=\"#000\" filter=\"url(#a)\" xlink:href=\"#b\"/><use fill=\"#FFF\" fill-rule=\"evenodd\" xlink:href=\"#b\"/></g></svg>';\n\nvar Thumbnail = function (props) {\n  var id = props.id,\n      image = props.image,\n      _a = props.size,\n      size = _a === void 0 ? 100 : _a,\n      handleClose = props.handleClose;\n\n  var _b = useState(null),\n      imgSrc = _b[0],\n      setImgSrc = _b[1];\n\n  useEffect(function () {\n    // if upload is a base64 string set as image source, otherwise wait for CDN response\n    if (!imgSrc && (image === null || image === void 0 ? void 0 : image.startsWith('data:'))) {\n      setImgSrc(image);\n    }\n  }, [image]);\n  var onClose = useCallback(function () {\n    if (handleClose) {\n      handleClose(id);\n    }\n  }, [id, handleClose]);\n  var imageToPreview = (image === null || image === void 0 ? void 0 : image.includes('.HEIC')) ? image : imgSrc;\n  return React.createElement(\"div\", {\n    className: \"rfu-thumbnail__wrapper\",\n    style: {\n      width: size,\n      height: size\n    }\n  }, React.createElement(\"div\", {\n    className: \"rfu-thumbnail__overlay\"\n  }, handleClose ? React.createElement(IconButton, {\n    onClick: onClose\n  }, React.createElement(\"div\", {\n    dangerouslySetInnerHTML: {\n      __html: svg\n    }\n  })) : null), React.createElement(\"img\", {\n    src: imageToPreview || placeholder,\n    className: \"rfu-thumbnail__image\",\n    alt: \"\"\n  }));\n};\n/**\n * An icon of a picture, which is used as the default icon for ImageUploadButton\n */\n\n\nvar PictureIcon = function () {\n  return React.createElement(\"svg\", {\n    width: \"20\",\n    height: \"20\",\n    viewBox: \"0 0 20 20\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, React.createElement(\"path\", {\n    d: \"M2 0h16a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2zm3 2a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM2 16v2h16v-6l-3-3-6 6-3-3-4 4z\",\n    fillRule: \"nonzero\"\n  }));\n};\n\nvar ImageUploadButton = function (props) {\n  var _a = props.multiple,\n      multiple = _a === void 0 ? false : _a,\n      _b = props.disabled,\n      disabled = _b === void 0 ? false : _b,\n      handleFiles = props.handleFiles,\n      _c = props.children,\n      children = _c === void 0 ? React.createElement(PictureIcon, null) : _c,\n      _d = props.resetOnChange,\n      resetOnChange = _d === void 0 ? false : _d;\n  var onFileChange = useHandleFileChangeWrapper(resetOnChange, handleFiles);\n  return React.createElement(\"div\", {\n    className: \"rfu-image-upload-button\"\n  }, React.createElement(\"label\", null, React.createElement(\"input\", {\n    type: \"file\",\n    className: \"rfu-image-input\",\n    onChange: onFileChange,\n    accept: \"image/*\",\n    multiple: multiple,\n    disabled: disabled\n  }), children));\n};\n\nvar ThumbnailPlaceholder = function (props) {\n  var _a = props.multiple,\n      multiple = _a === void 0 ? false : _a,\n      handleFiles = props.handleFiles;\n  return React.createElement(ImageUploadButton, {\n    handleFiles: handleFiles,\n    multiple: multiple\n  }, React.createElement(\"div\", {\n    role: \"button\",\n    className: \"rfu-thumbnail-placeholder\"\n  }, React.createElement(\"svg\", {\n    width: \"14\",\n    height: \"15\",\n    viewBox: \"0 0 14 15\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, React.createElement(\"path\", {\n    d: \"M14 8.998H8v6H6v-6H0v-2h6v-6h2v6h6z\",\n    fill: \"#A0B2B8\",\n    fillRule: \"nonzero\"\n  }))));\n};\n\nvar ImagePreviewer = function (props) {\n  var _a = props.multiple,\n      multiple = _a === void 0 ? true : _a,\n      _b = props.disabled,\n      disabled = _b === void 0 ? false : _b,\n      imageUploads = props.imageUploads,\n      handleRemove = props.handleRemove,\n      handleRetry = props.handleRetry,\n      handleFiles = props.handleFiles;\n  var onClose = useCallback(function (id) {\n    if (handleRemove) {\n      if (id == null) {\n        console.warn(\"id of closed image was undefined, this shouldn't happen\");\n        return;\n      }\n\n      handleRemove(id);\n    }\n  }, [handleRemove]);\n  return React.createElement(\"div\", {\n    className: \"rfu-image-previewer\"\n  }, imageUploads === null || imageUploads === void 0 ? void 0 : imageUploads.map(function (image) {\n    var url = image.url || image.previewUri;\n    return React.createElement(\"div\", {\n      key: image.id,\n      className: \"rfu-image-previewer__image\" + (image.state === 'finished' ? ' rfu-image-previewer__image--loaded' : '')\n    }, image.state === 'failed' && React.createElement(\"div\", {\n      className: \"rfu-image-previewer__retry\",\n      dangerouslySetInnerHTML: {\n        __html: '<svg width=\"22\" height=\"20\" viewBox=\"0 0 22 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M20 5.535V2a1 1 0 0 1 2 0v6a1 1 0 0 1-1 1h-6a1 1 0 0 1 0-2h3.638l-2.975-2.653a8 8 0 1 0 1.884 8.32 1 1 0 1 1 1.886.666A10 10 0 1 1 5.175 1.245c3.901-2.15 8.754-1.462 11.88 1.667L20 5.535z\" fill=\"#FFF\" fill-rule=\"nonzero\"/></svg>'\n      },\n      onClick: handleRetry && function () {\n        return handleRetry(image.id);\n      }\n    }), url !== undefined && React.createElement(Thumbnail, {\n      handleClose: onClose,\n      image: url,\n      id: image.id\n    }), image.state === 'uploading' && React.createElement(LoadingIndicator, {\n      backgroundColor: \"rgba(255,255,255,0.1)\",\n      color: \"rgba(255,255,255,0.7)\"\n    }));\n  }), handleFiles && !disabled && React.createElement(ThumbnailPlaceholder, {\n    handleFiles: handleFiles,\n    multiple: multiple\n  }));\n};\n\nexport { AttachmentIcon, FileIcon, FilePreviewer, FileUploadButton, IconButton, ImageDropzone, ImagePreviewer, ImageUploadButton, LoadingIndicator, PictureIcon, Thumbnail, ThumbnailPlaceholder, dataTransferItemsHaveFiles, dataTransferItemsToFiles };","map":{"version":3,"sources":["../src/components/AttachmentIcon.tsx","../src/components/dataTypes.ts","../src/components/FileIconSet.tsx","../src/components/FileIcon.tsx","../src/components/LoadingIndicator.tsx","../src/components/FilePreviewer.tsx","../node_modules/tslib/tslib.es6.js","../src/utils.ts","../src/components/FileUploadButton.tsx","../src/components/IconButton.tsx","../src/components/ImageDropzone.tsx","../src/images/placeholder-generic.png","../src/components/Thumbnail.tsx","../src/components/PictureIcon.tsx","../src/components/ImageUploadButton.tsx","../src/components/ThumbnailPlaceholder.tsx","../src/components/ImagePreviewer.tsx"],"names":[],"mappings":"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","sourcesContent":["import React from 'react';\n\n/**\n * An icon of a paperclip, which is used as the default icon for FileUploadButton\n */\nexport const AttachmentIcon: React.FC = () => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"24\"\n    height=\"20\"\n    viewBox=\"0 0 24 24\"\n  >\n    <path d=\"M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5a2.5 2.5 0 0 1 5 0v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5a2.5 2.5 0 0 0 5 0V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6h-1.5z\" />\n    <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n  </svg>\n);\n","export const wordMimeTypes = [\n  // Microsoft Word\n  // .doc .dot\n  'application/msword',\n  // .doc .dot\n  'application/msword-template',\n  // .docx\n  'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\n  // .dotx (no test)\n  'application/vnd.openxmlformats-officedocument.wordprocessingml.template',\n  // .docm\n  'application/vnd.ms-word.document.macroEnabled.12',\n  // .dotm (no test)\n  'application/vnd.ms-word.template.macroEnabled.12',\n\n  // LibreOffice/OpenOffice Writer\n  // .odt\n  'application/vnd.oasis.opendocument.text',\n  // .ott\n  'application/vnd.oasis.opendocument.text-template',\n  // .fodt\n  'application/vnd.oasis.opendocument.text-flat-xml',\n  // .uot\n  // NOTE: firefox doesn't know mimetype so maybe ignore\n];\n\nexport const excelMimeTypes = [\n  // .csv\n  'text/csv',\n  // TODO: maybe more data files\n\n  // Microsoft Excel\n  // .xls .xlt .xla (no test for .xla)\n  'application/vnd.ms-excel',\n  // .xlsx\n  'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\n  // .xltx (no test)\n  'application/vnd.openxmlformats-officedocument.spreadsheetml.template',\n  // .xlsm\n  'application/vnd.ms-excel.sheet.macroEnabled.12',\n  // .xltm (no test)\n  'application/vnd.ms-excel.template.macroEnabled.12',\n  // .xlam (no test)\n  'application/vnd.ms-excel.addin.macroEnabled.12',\n  // .xlsb (no test)\n  'application/vnd.ms-excel.addin.macroEnabled.12',\n\n  // LibreOffice/OpenOffice Calc\n  // .ods\n  'application/vnd.oasis.opendocument.spreadsheet',\n  // .ots\n  'application/vnd.oasis.opendocument.spreadsheet-template',\n  // .fods\n  'application/vnd.oasis.opendocument.spreadsheet-flat-xml',\n  // .uos\n  // NOTE: firefox doesn't know mimetype so maybe ignore\n];\n\nexport const powerpointMimeTypes = [\n  // Microsoft Word\n  // .ppt .pot .pps .ppa (no test for .ppa)\n  'application/vnd.ms-powerpoint',\n  // .pptx\n  'application/vnd.openxmlformats-officedocument.presentationml.presentation',\n  // .potx (no test)\n  'application/vnd.openxmlformats-officedocument.presentationml.template',\n  // .ppsx\n  'application/vnd.openxmlformats-officedocument.presentationml.slideshow',\n  // .ppam\n  'application/vnd.ms-powerpoint.addin.macroEnabled.12',\n  // .pptm\n  'application/vnd.ms-powerpoint.presentation.macroEnabled.12',\n  // .potm\n  'application/vnd.ms-powerpoint.template.macroEnabled.12',\n  // .ppsm\n  'application/vnd.ms-powerpoint.slideshow.macroEnabled.12',\n\n  // LibreOffice/OpenOffice Writer\n  // .odp\n  'application/vnd.oasis.opendocument.presentation',\n  // .otp\n  'application/vnd.oasis.opendocument.presentation-template',\n  // .fodp\n  'application/vnd.oasis.opendocument.presentation-flat-xml',\n  // .uop\n  // NOTE: firefox doesn't know mimetype so maybe ignore\n];\n\nexport const archiveFileTypes = [\n  // .zip\n  'application/zip',\n  // .z7\n  'application/x-7z-compressed',\n  // .ar\n  'application/x-archive',\n  // .tar\n  'application/x-tar',\n  // .tar.gz\n  'application/gzip',\n  // .tar.Z\n  'application/x-compress',\n  // .tar.bz2\n  'application/x-bzip',\n  // .tar.lz\n  'application/x-lzip',\n  // .tar.lz4\n  'application/x-lz4',\n  // .tar.lzma\n  'application/x-lzma',\n  // .tar.lzo (no test)\n  'application/x-lzop',\n  // .tar.xz\n  'application/x-xz',\n  // .war\n  'application/x-webarchive',\n  // .rar\n  'application/vnd.rar',\n];\n\nexport const codeFileTypes = [\n  // .html .htm\n  'text/html',\n  // .css\n  'text/css',\n  // .js\n  'application/x-javascript',\n  // .json\n  'application/json',\n  // .py\n  'text/x-python',\n  // .go\n  'text/x-go',\n  // .c\n  'text/x-csrc',\n  // .cpp\n  'text/x-c++src',\n  // .rb\n  'application/x-ruby',\n  // .rust\n  'text/rust',\n  // .java\n  'text/x-java',\n  // .php\n  'application/x-php',\n  // .cs\n  'text/x-csharp',\n  // .scala\n  'text/x-scala',\n  // .erl\n  'text/x-erlang',\n  // .sh\n  'application/x-shellscript',\n];\n","/**\n * Font Awesome Free 5.15.3 by @fontawesome - https://fontawesome.com\n * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)\n */\nimport React from 'react';\n\nexport const FilePdfIcon: React.FC<{ size?: number }> = ({ size = 20 }) => (\n  <svg\n    className=\"rfu-file-icon--small fa-file-pdf\"\n    height={size}\n    width={size}\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 384 512\"\n  >\n    <path\n      d=\"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm250.2-143.7c-12.2-12-47-8.7-64.4-6.5-17.2-10.5-28.7-25-36.8-46.3 3.9-16.1 10.1-40.6 5.4-56-4.2-26.2-37.8-23.6-42.6-5.9-4.4 16.1-.4 38.5 7 67.1-10 23.9-24.9 56-35.4 74.4-20 10.3-47 26.2-51 46.2-3.3 15.8 26 55.2 76.1-31.2 22.4-7.4 46.8-16.5 68.4-20.1 18.9 10.2 41 17 55.8 17 25.5 0 28-28.2 17.5-38.7zm-198.1 77.8c5.1-13.7 24.5-29.5 30.4-35-19 30.3-30.4 35.7-30.4 35zm81.6-190.6c7.4 0 6.7 32.1 1.8 40.8-4.4-13.9-4.3-40.8-1.8-40.8zm-24.4 136.6c9.7-16.9 18-37 24.7-54.7 8.3 15.1 18.9 27.2 30.1 35.5-20.8 4.3-38.9 13.1-54.8 19.2zm131.6-5s-5 6-37.3-7.8c35.1-2.6 40.9 5.4 37.3 7.8z\"\n      fill=\"#f82903\"\n    />\n  </svg>\n);\n\nexport const FileWordIcon: React.FC<{ size?: number }> = ({ size = 20 }) => (\n  <svg\n    className=\"rfu-file-icon--small fa-file-word\"\n    height={size}\n    width={size}\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 384 512\"\n  >\n    <path\n      d=\"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm220.1-208c-5.7 0-10.6 4-11.7 9.5-20.6 97.7-20.4 95.4-21 103.5-.2-1.2-.4-2.6-.7-4.3-.8-5.1.3.2-23.6-99.5-1.3-5.4-6.1-9.2-11.7-9.2h-13.3c-5.5 0-10.3 3.8-11.7 9.1-24.4 99-24 96.2-24.8 103.7-.1-1.1-.2-2.5-.5-4.2-.7-5.2-14.1-73.3-19.1-99-1.1-5.6-6-9.7-11.8-9.7h-16.8c-7.8 0-13.5 7.3-11.7 14.8 8 32.6 26.7 109.5 33.2 136 1.3 5.4 6.1 9.1 11.7 9.1h25.2c5.5 0 10.3-3.7 11.6-9.1l17.9-71.4c1.5-6.2 2.5-12 3-17.3l2.9 17.3c.1.4 12.6 50.5 17.9 71.4 1.3 5.3 6.1 9.1 11.6 9.1h24.7c5.5 0 10.3-3.7 11.6-9.1 20.8-81.9 30.2-119 34.5-136 1.9-7.6-3.8-14.9-11.6-14.9h-15.8z\"\n      fill=\"#2c599d\"\n    />\n  </svg>\n);\n\nexport const FilePowerPointIcon: React.FC<{ size?: number }> = ({\n  size = 20,\n}) => (\n  <svg\n    className=\"rfu-file-icon--small fa-file-powerpoint\"\n    height={size}\n    width={size}\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 384 512\"\n  >\n    <path\n      d=\"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm72-60V236c0-6.6 5.4-12 12-12h69.2c36.7 0 62.8 27 62.8 66.3 0 74.3-68.7 66.5-95.5 66.5V404c0 6.6-5.4 12-12 12H132c-6.6 0-12-5.4-12-12zm48.5-87.4h23c7.9 0 13.9-2.4 18.1-7.2 8.5-9.8 8.4-28.5.1-37.8-4.1-4.6-9.9-7-17.4-7h-23.9v52z\"\n      fill=\"#cb4a32\"\n    />\n  </svg>\n);\n\nexport const FileExcelIcon: React.FC<{ size?: number }> = ({ size = 20 }) => (\n  <svg\n    className=\"rfu-file-icon--small fa-file-excel\"\n    height={size}\n    width={size}\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 384 512\"\n  >\n    <path\n      d=\"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm212-240h-28.8c-4.4 0-8.4 2.4-10.5 6.3-18 33.1-22.2 42.4-28.6 57.7-13.9-29.1-6.9-17.3-28.6-57.7-2.1-3.9-6.2-6.3-10.6-6.3H124c-9.3 0-15 10-10.4 18l46.3 78-46.3 78c-4.7 8 1.1 18 10.4 18h28.9c4.4 0 8.4-2.4 10.5-6.3 21.7-40 23-45 28.6-57.7 14.9 30.2 5.9 15.9 28.6 57.7 2.1 3.9 6.2 6.3 10.6 6.3H260c9.3 0 15-10 10.4-18L224 320c.7-1.1 30.3-50.5 46.3-78 4.7-8-1.1-18-10.3-18z\"\n      fill=\"#207245\"\n    />\n  </svg>\n);\n\nexport const FileArchiveIcon: React.FC<{ size?: number }> = ({ size = 20 }) => (\n  <svg\n    className=\"rfu-file-icon--small fa-file-archive\"\n    height={size}\n    width={size}\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 384 512\"\n  >\n    <path\n      d=\"M128.3 160v32h32v-32zm64-96h-32v32h32zm-64 32v32h32V96zm64 32h-32v32h32zm177.6-30.1L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM256 51.9l76.1 76.1H256zM336 464H48V48h79.7v16h32V48H208v104c0 13.3 10.7 24 24 24h104zM194.2 265.7c-1.1-5.6-6-9.7-11.8-9.7h-22.1v-32h-32v32l-19.7 97.1C102 385.6 126.8 416 160 416c33.1 0 57.9-30.2 51.5-62.6zm-33.9 124.4c-17.9 0-32.4-12.1-32.4-27s14.5-27 32.4-27 32.4 12.1 32.4 27-14.5 27-32.4 27zm32-198.1h-32v32h32z\"\n      fill=\"#414D54\"\n    />\n  </svg>\n);\n\nexport const FileCodeIcon: React.FC<{ size?: number }> = ({ size = 20 }) => (\n  <svg\n    className=\"rfu-file-icon--small fa-file-code\"\n    height={size}\n    width={size}\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 384 512\"\n  >\n    <path\n      d=\"M149.9 349.1l-.2-.2-32.8-28.9 32.8-28.9c3.6-3.2 4-8.8.8-12.4l-.2-.2-17.4-18.6c-3.4-3.6-9-3.7-12.4-.4l-57.7 54.1c-3.7 3.5-3.7 9.4 0 12.8l57.7 54.1c1.6 1.5 3.8 2.4 6 2.4 2.4 0 4.8-1 6.4-2.8l17.4-18.6c3.3-3.5 3.1-9.1-.4-12.4zm220-251.2L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM256 51.9l76.1 76.1H256zM336 464H48V48h160v104c0 13.3 10.7 24 24 24h104zM209.6 214c-4.7-1.4-9.5 1.3-10.9 6L144 408.1c-1.4 4.7 1.3 9.6 6 10.9l24.4 7.1c4.7 1.4 9.6-1.4 10.9-6L240 231.9c1.4-4.7-1.3-9.6-6-10.9zm24.5 76.9l.2.2 32.8 28.9-32.8 28.9c-3.6 3.2-4 8.8-.8 12.4l.2.2 17.4 18.6c3.3 3.5 8.9 3.7 12.4.4l57.7-54.1c3.7-3.5 3.7-9.4 0-12.8l-57.7-54.1c-3.5-3.3-9.1-3.2-12.4.4l-17.4 18.6c-3.3 3.5-3.1 9.1.4 12.4z\"\n      fill=\"#414D54\"\n    />\n  </svg>\n);\n\nexport const FileAudioIcon: React.FC<{ size?: number }> = ({ size = 20 }) => (\n  <svg\n    className=\"rfu-file-icon--small fa-file-audio\"\n    height={size}\n    width={size}\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 384 512\"\n  >\n    <path\n      d=\"M369.941 97.941l-83.882-83.882A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v416c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48V131.882a48 48 0 0 0-14.059-33.941zM332.118 128H256V51.882L332.118 128zM48 464V48h160v104c0 13.255 10.745 24 24 24h104v288H48zm144-76.024c0 10.691-12.926 16.045-20.485 8.485L136 360.486h-28c-6.627 0-12-5.373-12-12v-56c0-6.627 5.373-12 12-12h28l35.515-36.947c7.56-7.56 20.485-2.206 20.485 8.485v135.952zm41.201-47.13c9.051-9.297 9.06-24.133.001-33.439-22.149-22.752 12.235-56.246 34.395-33.481 27.198 27.94 27.212 72.444.001 100.401-21.793 22.386-56.947-10.315-34.397-33.481z\"\n      fill=\"#414D54\"\n    />\n  </svg>\n);\n\nexport const FileVideoIcon: React.FC<{ size?: number }> = ({ size = 20 }) => (\n  <svg\n    className=\"rfu-file-icon--small fa-file-video\"\n    height={size}\n    width={size}\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 384 512\"\n  >\n    <path\n      d=\"M369.941 97.941l-83.882-83.882A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v416c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48V131.882a48 48 0 0 0-14.059-33.941zM332.118 128H256V51.882L332.118 128zM48 464V48h160v104c0 13.255 10.745 24 24 24h104v288H48zm228.687-211.303L224 305.374V268c0-11.046-8.954-20-20-20H100c-11.046 0-20 8.954-20 20v104c0 11.046 8.954 20 20 20h104c11.046 0 20-8.954 20-20v-37.374l52.687 52.674C286.704 397.318 304 390.28 304 375.986V264.011c0-14.311-17.309-21.319-27.313-11.314z\"\n      fill=\"#414D54\"\n    />\n  </svg>\n);\n\nexport const FileImageIcon: React.FC<{ size?: number }> = ({ size = 20 }) => (\n  <svg\n    className=\"rfu-file-icon--small fa-file-image\"\n    height={size}\n    width={size}\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 384 512\"\n  >\n    <path\n      d=\"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm32-48h224V288l-23.5-23.5c-4.7-4.7-12.3-4.7-17 0L176 352l-39.5-39.5c-4.7-4.7-12.3-4.7-17 0L80 352v64zm48-240c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48z\"\n      fill=\"#414D54\"\n    />\n  </svg>\n);\n\nexport const FileAltIcon: React.FC<{ size?: number }> = ({ size = 20 }) => (\n  <svg\n    className=\"rfu-file-icon--small fa-file-alt\"\n    height={size}\n    width={size}\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 384 512\"\n  >\n    <path\n      d=\"M288 248v28c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-28c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm-12 72H108c-6.6 0-12 5.4-12 12v28c0 6.6 5.4 12 12 12h168c6.6 0 12-5.4 12-12v-28c0-6.6-5.4-12-12-12zm108-188.1V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V48C0 21.5 21.5 0 48 0h204.1C264.8 0 277 5.1 286 14.1L369.9 98c9 8.9 14.1 21.2 14.1 33.9zm-128-80V128h76.1L256 51.9zM336 464V176H232c-13.3 0-24-10.7-24-24V48H48v416h288z\"\n      fill=\"#414D54\"\n    />\n  </svg>\n);\n\nexport const FileFallbackIcon: React.FC<{ size?: number }> = ({\n  size = 20,\n}) => (\n  <svg\n    className=\"rfu-file-icon--small fa-file-fallback\"\n    height={size}\n    width={size}\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 384 512\"\n  >\n    <path\n      d=\"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48z\"\n      fill=\"#414D54\"\n    />\n  </svg>\n);\n","import React from 'react';\n\nimport {\n  archiveFileTypes,\n  codeFileTypes,\n  excelMimeTypes,\n  powerpointMimeTypes,\n  wordMimeTypes,\n} from './dataTypes';\nimport {\n  FileAltIcon,\n  FileArchiveIcon,\n  FileAudioIcon,\n  FileCodeIcon,\n  FileExcelIcon,\n  FileFallbackIcon,\n  FileImageIcon,\n  FilePdfIcon,\n  FilePowerPointIcon,\n  FileVideoIcon,\n  FileWordIcon,\n} from './FileIconSet';\n\nexport type FileIconProps = {\n  filename?: string;\n  mimeType?: string;\n  big?: boolean;\n  size?: number; // big icon on sent attachment\n  sizeSmall?: number; // small icon on file upload preview\n};\n\n// Partially based on: https://stackoverflow.com/a/4212908/2570866\nconst mimeTypeToIconMap: {\n  [key: string]: React.FC;\n} = {\n  'application/pdf': FilePdfIcon,\n};\n\nfor (const type of wordMimeTypes) {\n  mimeTypeToIconMap[type] = FileWordIcon;\n}\n\nfor (const type of excelMimeTypes) {\n  mimeTypeToIconMap[type] = FileExcelIcon;\n}\n\nfor (const type of powerpointMimeTypes) {\n  mimeTypeToIconMap[type] = FilePowerPointIcon;\n}\n\nfor (const type of archiveFileTypes) {\n  mimeTypeToIconMap[type] = FileArchiveIcon;\n}\n\nfor (const type of codeFileTypes) {\n  mimeTypeToIconMap[type] = FileCodeIcon;\n}\n\nfunction mimeTypeToIcon(mimeType?: string) {\n  if (mimeType == null) return FileFallbackIcon;\n\n  const icon = mimeTypeToIconMap[mimeType];\n  if (icon) return icon;\n\n  if (mimeType.startsWith('audio/')) return FileAudioIcon;\n  if (mimeType.startsWith('video/')) return FileVideoIcon;\n  if (mimeType.startsWith('image/')) return FileImageIcon;\n  if (mimeType.startsWith('text/')) return FileAltIcon;\n\n  return FileFallbackIcon;\n}\n\nexport const FileIcon: React.FC<FileIconProps> = (props) => {\n  const { big = false, mimeType, size = 50, sizeSmall = 20 } = props;\n\n  const Icon = mimeTypeToIcon(mimeType);\n\n  return <Icon size={big ? size : sizeSmall} />;\n};\n","import React from 'react';\n\nexport type LoadingIndicatorProps = {\n  color?: string;\n  backgroundColor?: string;\n  size?: number;\n  width?: number;\n};\n\nexport const LoadingIndicator: React.FC<LoadingIndicatorProps> = (props) => {\n  const { size = 20, width = 2, backgroundColor, color } = props;\n\n  return (\n    <div\n      className=\"rfu-loading-indicator__spinner\"\n      style={{\n        margin: '0 auto',\n        borderColor: backgroundColor ? backgroundColor : '',\n        borderTopColor: color ? color : '',\n        width: size ? size : '',\n        height: size ? size : '',\n        borderWidth: width ? width : '',\n      }}\n    />\n  );\n};\n","import React from 'react';\n\nimport { FileIcon } from './FileIcon';\nimport { LoadingIndicator } from './LoadingIndicator';\n\nimport type { FileUpload } from '../types';\n\nexport type FilePreviewerProps = {\n  uploads?: FileUpload[];\n  handleRemove?: (id: string) => void;\n  handleRetry?: (id: string) => void;\n  handleFiles?: (files: FileList) => void;\n};\n\n/**\n * Component that displays files which are being uploaded\n */\nexport const FilePreviewer: React.FC<FilePreviewerProps> = ({\n  uploads,\n  handleRemove,\n  handleRetry,\n}) => (\n  <div className=\"rfu-file-previewer\">\n    <ol>\n      {uploads &&\n        uploads.map((upload) => (\n          <li\n            key={upload.id}\n            className={`rfu-file-previewer__file ${\n              upload.state === 'uploading'\n                ? 'rfu-file-previewer__file--uploading'\n                : ''\n            } ${\n              upload.state === 'failed'\n                ? 'rfu-file-previewer__file--failed'\n                : ''\n            }`}\n          >\n            <FileIcon mimeType={upload.file.type} filename={upload.file.name} />\n\n            <a href={upload.url} download>\n              {upload.file.name}\n              {upload.state === 'failed' && (\n                <React.Fragment>\n                  <div\n                    className=\"rfu-file-previewer__failed\"\n                    onClick={handleRetry && (() => handleRetry(upload.id))}\n                  >\n                    failed\n                  </div>\n                  <div\n                    className=\"rfu-file-previewer__retry\"\n                    onClick={handleRetry && (() => handleRetry(upload.id))}\n                  >\n                    retry\n                  </div>\n                </React.Fragment>\n              )}\n            </a>\n\n            <span\n              className=\"rfu-file-previewer__close-button\"\n              onClick={handleRemove && (() => handleRemove(upload.id))}\n            >\n              ✘\n            </span>\n            {upload.state === 'uploading' && (\n              <div className=\"rfu-file-previewer__loading-indicator\">\n                <LoadingIndicator />\n              </div>\n            )}\n          </li>\n        ))}\n    </ol>\n  </div>\n);\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from) {\r\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\r\n        to[j] = from[i];\r\n    return to;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import type { FileLike } from './types';\n\n// https://stackoverflow.com/a/6860916/2570866\nexport function generateRandomId() {\n  // prettier-ignore\n  return (S4()+S4()+\"-\"+S4()+\"-\"+S4()+\"-\"+S4()+\"-\"+S4()+S4()+S4());\n}\n\nfunction S4() {\n  return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);\n}\n\nexport function dataTransferItemsHaveFiles(\n  items?: DataTransferItem[],\n): boolean {\n  if (!items || !items.length) {\n    return false;\n  }\n  for (const item of items) {\n    if (item.kind === 'file' || item.type === 'text/html') {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction getFileLikes(items: DataTransferItem[]) {\n  const fileLikes = [];\n  for (const item of items) {\n    if (item.kind === 'file') {\n      const file = item.getAsFile();\n      if (file) {\n        fileLikes.push(file);\n      }\n    }\n  }\n  return fileLikes;\n}\n\nasync function getImageSource(fileLikes: FileLike[], src: string) {\n  let res;\n  try {\n    res = await fetch(src);\n  } catch (e) {\n    return;\n  }\n  const contentType =\n    res.headers.get('Content-type') || 'application/octet-stream';\n  const buf = await res.arrayBuffer();\n  const blob = new Blob([buf], { type: contentType });\n  fileLikes.push(blob);\n}\n\nconst extractImageSources = (s: string) => {\n  const imageTags = new DOMParser()\n    .parseFromString(s, 'text/html')\n    .getElementsByTagName('img');\n  return Array.from(imageTags, (tag) => tag.src).filter((tag) => tag);\n};\n\nexport async function dataTransferItemsToFiles(\n  items?: DataTransferItem[],\n): Promise<FileLike[]> {\n  if (!items || !items.length) {\n    return [];\n  }\n\n  // If there are files inside the DataTransferItem prefer those\n  const fileLikes = getFileLikes(items);\n  if (fileLikes.length) {\n    return fileLikes;\n  }\n\n  // Otherwise extract images from html\n  const blobPromises = [];\n  for (const item of items) {\n    if (item.type === 'text/html') {\n      blobPromises.push(\n        new Promise<void>((accept) => {\n          item.getAsString(async (s) => {\n            const imagePromises = extractImageSources(s).map((src) =>\n              getImageSource(fileLikes, src),\n            );\n\n            await Promise.all(imagePromises);\n            accept();\n          });\n        }),\n      );\n    }\n  }\n  await Promise.all(blobPromises);\n  return fileLikes;\n}\n\nexport const useHandleFileChangeWrapper = (\n  resetOnChange: boolean = false,\n  handler?: (files: Array<File>) => void,\n) => ({ currentTarget }: React.ChangeEvent<HTMLInputElement>) => {\n  const { files } = currentTarget;\n\n  if (!files) return;\n\n  try {\n    handler?.(Array.from(files));\n  } catch (error) {\n    console.error(error);\n  }\n\n  if (resetOnChange) currentTarget.value = '';\n};\n","import React from 'react';\n\nimport { AttachmentIcon } from './AttachmentIcon';\nimport { useHandleFileChangeWrapper } from '../utils';\n\nexport type FileUploadButtonProps = {\n  handleFiles: (files: FileList | File[]) => void;\n  multiple?: boolean;\n  disabled?: boolean;\n  accepts?: string | string[];\n  resetOnChange?: boolean;\n};\n\nexport const FileUploadButton: React.FC<FileUploadButtonProps> = ({\n  disabled = false,\n  multiple = false,\n  children = <AttachmentIcon />,\n  handleFiles,\n  accepts,\n  resetOnChange = true,\n}) => {\n  let className = 'rfu-file-upload-button';\n  if (disabled) {\n    className = `${className} rfu-file-upload-button--disabled`;\n  }\n\n  const onFileChange = useHandleFileChangeWrapper(resetOnChange, handleFiles);\n\n  return (\n    <div className={className}>\n      <label>\n        <input\n          type=\"file\"\n          className=\"rfu-file-input\"\n          onChange={onFileChange}\n          multiple={multiple}\n          disabled={disabled}\n          accept={Array.isArray(accepts) ? accepts.join(',') : accepts}\n        />\n        {children}\n      </label>\n    </div>\n  );\n};\n","import React from 'react';\n\nexport type IconButtonProps = {\n  onClick?: (e: React.SyntheticEvent) => void;\n};\n\n/**\n * This is simply a button wrapper, add's a div with `role=\"button\"` and a onClick\n */\nexport const IconButton: React.FC<IconButtonProps> = ({\n  onClick,\n  children,\n}) => (\n  <div className=\"rfu-icon-button\" role=\"button\" onClick={onClick}>\n    {children}\n  </div>\n);\n","import React, { useCallback } from 'react';\nimport Dropzone from 'react-dropzone';\n\nexport type ImageDropzoneProps = {\n  handleFiles?: (files: FileList | File[]) => void;\n  /** Allow drag 'n' drop (or selection from the file dialog) of multiple files */\n  multiple?: boolean;\n  /** Enable/disable the dropzone */\n  disabled?: boolean;\n  /**\n   * Set accepted file types. See https://github.com/okonet/attr-accept for more information. Keep in mind that mime type determination is not reliable across platforms. CSV files, for example, are reported as text/plain under macOS but as application/vnd.ms-excel under Windows. In some cases there might not be a mime type set at all.\n   *\n   * One of type: `string, string[]`\n   */\n  accept?: string | string[];\n  maxNumberOfFiles?: number;\n};\n\nexport const ImageDropzone: React.FC<ImageDropzoneProps> = ({\n  handleFiles,\n  maxNumberOfFiles,\n  children,\n  accept,\n  multiple,\n  disabled,\n}) => {\n  const handleDrop = useCallback(\n    (accepted: File[]) => {\n      if (!handleFiles) {\n        return;\n      }\n\n      if (accepted && accepted.length) {\n        handleFiles(accepted);\n      }\n    },\n    [handleFiles],\n  );\n\n  return (\n    <Dropzone\n      onDrop={handleDrop}\n      maxFiles={maxNumberOfFiles}\n      accept={accept}\n      multiple={multiple}\n      disabled={disabled}\n    >\n      {({ getRootProps, isDragAccept, isDragReject }) => (\n        <div\n          {...getRootProps({\n            style: { position: 'relative' },\n            className: `\n          rfu-dropzone\n          ${isDragAccept ? 'rfu-dropzone--accept' : ''}\n          ${isDragReject ? 'rfu-dropzone--reject' : ''}\n        `,\n          })}\n        >\n          <div className=\"rfu-dropzone__notifier\">\n            <div className=\"rfu-dropzone__inner\">\n              <svg\n                width=\"41\"\n                height=\"41\"\n                viewBox=\"0 0 41 41\"\n                xmlns=\"http://www.w3.org/2000/svg\"\n              >\n                <path\n                  d=\"M40.517 28.002V3.997c0-2.197-1.808-3.992-4.005-3.992H12.507a4.004 4.004 0 0 0-3.992 3.993v24.004a4.004 4.004 0 0 0 3.992 3.993h24.005c2.197 0 4.005-1.795 4.005-3.993zm-22.002-7.997l4.062 5.42 5.937-7.423 7.998 10H12.507l6.008-7.997zM.517 8.003V36c0 2.198 1.795 4.005 3.993 4.005h27.997V36H4.51V8.002H.517z\"\n                  fill=\"#000\"\n                  fillRule=\"nonzero\"\n                />\n              </svg>\n              <p>Drag your files here to add to your post</p>\n            </div>\n          </div>\n          {children}\n        </div>\n      )}\n    </Dropzone>\n  );\n};\n","export default \"data:image/png;base64,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\"","import React, { useCallback, useEffect, useState } from 'react';\n\nimport { IconButton } from './IconButton';\nimport placeholder from '../images/placeholder-generic.png';\n\nexport type ThumbnailProps = {\n  handleClose?: (id?: string) => void;\n  size?: number;\n  image: string;\n  id?: string;\n};\n\nconst svg =\n  '<svg width=\"28\" height=\"28\" viewBox=\"0 0 28 28\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"><defs><path d=\"M465 5c5.53 0 10 4.47 10 10s-4.47 10-10 10-10-4.47-10-10 4.47-10 10-10zm3.59 5L465 13.59 461.41 10 460 11.41l3.59 3.59-3.59 3.59 1.41 1.41 3.59-3.59 3.59 3.59 1.41-1.41-3.59-3.59 3.59-3.59-1.41-1.41z\" id=\"b\"/><filter x=\"-30%\" y=\"-30%\" width=\"160%\" height=\"160%\" filterUnits=\"objectBoundingBox\" id=\"a\"><feOffset in=\"SourceAlpha\" result=\"shadowOffsetOuter1\"/><feGaussianBlur stdDeviation=\"2\" in=\"shadowOffsetOuter1\" result=\"shadowBlurOuter1\"/><feColorMatrix values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.5 0\" in=\"shadowBlurOuter1\"/></filter></defs><g transform=\"translate(-451 -1)\" fill-rule=\"nonzero\" fill=\"none\"><use fill=\"#000\" filter=\"url(#a)\" xlink:href=\"#b\"/><use fill=\"#FFF\" fill-rule=\"evenodd\" xlink:href=\"#b\"/></g></svg>';\n\nexport const Thumbnail: React.FC<ThumbnailProps> = (props) => {\n  const { id, image, size = 100, handleClose } = props;\n\n  const [imgSrc, setImgSrc] = useState<string | null>(null);\n\n  useEffect(() => {\n    // if upload is a base64 string set as image source, otherwise wait for CDN response\n    if (!imgSrc && image?.startsWith('data:')) {\n      setImgSrc(image);\n    }\n  }, [image]);\n\n  const onClose = useCallback(() => {\n    if (handleClose) {\n      handleClose(id);\n    }\n  }, [id, handleClose]);\n\n  const imageToPreview = image?.includes('.HEIC') ? image : imgSrc;\n\n  return (\n    <div\n      className=\"rfu-thumbnail__wrapper\"\n      style={{ width: size, height: size }}\n    >\n      <div className=\"rfu-thumbnail__overlay\">\n        {handleClose ? (\n          <IconButton onClick={onClose}>\n            <div dangerouslySetInnerHTML={{ __html: svg }} />\n          </IconButton>\n        ) : null}\n      </div>\n      <img\n        src={imageToPreview || placeholder}\n        className=\"rfu-thumbnail__image\"\n        alt=\"\"\n      />\n    </div>\n  );\n};\n","import React from 'react';\n\n/**\n * An icon of a picture, which is used as the default icon for ImageUploadButton\n */\nexport const PictureIcon: React.FC = () => (\n  <svg\n    width=\"20\"\n    height=\"20\"\n    viewBox=\"0 0 20 20\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      d=\"M2 0h16a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2zm3 2a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM2 16v2h16v-6l-3-3-6 6-3-3-4 4z\"\n      fillRule=\"nonzero\"\n    />\n  </svg>\n);\n","import React from 'react';\n\nimport { PictureIcon } from './PictureIcon';\nimport { useHandleFileChangeWrapper } from '../utils';\n\nexport type ImageUploadButtonProps = {\n  handleFiles: (files: File[]) => void;\n  multiple?: boolean;\n  disabled?: boolean;\n  resetOnChange?: boolean;\n};\n\nexport const ImageUploadButton: React.FC<ImageUploadButtonProps> = (props) => {\n  const {\n    multiple = false,\n    disabled = false,\n    handleFiles,\n    children = <PictureIcon />,\n    resetOnChange = false,\n  } = props;\n\n  const onFileChange = useHandleFileChangeWrapper(resetOnChange, handleFiles);\n\n  return (\n    <div className=\"rfu-image-upload-button\">\n      <label>\n        <input\n          type=\"file\"\n          className=\"rfu-image-input\"\n          onChange={onFileChange}\n          accept=\"image/*\"\n          multiple={multiple}\n          disabled={disabled}\n        />\n        {children}\n      </label>\n    </div>\n  );\n};\n","import React from 'react';\n\nimport { ImageUploadButton } from './ImageUploadButton';\n\nexport type ThumbnailPlaceholderProps = {\n  handleFiles: (files: File[]) => void;\n  multiple: boolean;\n};\n\nexport const ThumbnailPlaceholder: React.FC<ThumbnailPlaceholderProps> = (\n  props,\n) => {\n  const { multiple = false, handleFiles } = props;\n\n  return (\n    <ImageUploadButton handleFiles={handleFiles} multiple={multiple}>\n      <div role=\"button\" className=\"rfu-thumbnail-placeholder\">\n        <svg\n          width=\"14\"\n          height=\"15\"\n          viewBox=\"0 0 14 15\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n        >\n          <path\n            d=\"M14 8.998H8v6H6v-6H0v-2h6v-6h2v6h6z\"\n            fill=\"#A0B2B8\"\n            fillRule=\"nonzero\"\n          />\n        </svg>\n      </div>\n    </ImageUploadButton>\n  );\n};\n","import React, { useCallback } from 'react';\n\nimport { LoadingIndicator } from './LoadingIndicator';\nimport { Thumbnail } from './Thumbnail';\nimport { ThumbnailPlaceholder } from './ThumbnailPlaceholder';\n\nimport type { ImageUpload } from '../types';\n\nexport type ImagePreviewerProps = {\n  /** The list of image uploads that should be displayed */\n  imageUploads?: ImageUpload[];\n  /** A callback to call when the remove icon is clicked */\n  handleRemove?: (id: string) => void;\n  /** A callback to call when the retry icon is clicked */\n  handleRetry?: (id: string) => void;\n  /** A callback to call with newly selected files. If this is not provided no\n   * `ThumbnailPlaceholder` will be displayed.\n   */\n  handleFiles?: (files: File[]) => void;\n  /** Allow drag 'n' drop (or selection from the file dialog) of multiple files */\n  multiple?: boolean;\n  disabled?: boolean;\n};\n\nexport const ImagePreviewer: React.FC<ImagePreviewerProps> = (props) => {\n  const {\n    multiple = true,\n    disabled = false,\n    imageUploads,\n    handleRemove,\n    handleRetry,\n    handleFiles,\n  } = props;\n\n  const onClose = useCallback(\n    (id?: string) => {\n      if (handleRemove) {\n        if (id == null) {\n          console.warn(\n            \"id of closed image was undefined, this shouldn't happen\",\n          );\n          return;\n        }\n        handleRemove(id);\n      }\n    },\n    [handleRemove],\n  );\n\n  return (\n    <div className=\"rfu-image-previewer\">\n      {imageUploads?.map((image) => {\n        const url = image.url || image.previewUri;\n        return (\n          <div\n            key={image.id}\n            className={`rfu-image-previewer__image${\n              image.state === 'finished'\n                ? ' rfu-image-previewer__image--loaded'\n                : ''\n            }`}\n          >\n            {image.state === 'failed' && (\n              <div\n                className=\"rfu-image-previewer__retry\"\n                dangerouslySetInnerHTML={{\n                  __html:\n                    '<svg width=\"22\" height=\"20\" viewBox=\"0 0 22 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M20 5.535V2a1 1 0 0 1 2 0v6a1 1 0 0 1-1 1h-6a1 1 0 0 1 0-2h3.638l-2.975-2.653a8 8 0 1 0 1.884 8.32 1 1 0 1 1 1.886.666A10 10 0 1 1 5.175 1.245c3.901-2.15 8.754-1.462 11.88 1.667L20 5.535z\" fill=\"#FFF\" fill-rule=\"nonzero\"/></svg>',\n                }}\n                onClick={handleRetry && (() => handleRetry(image.id))}\n              />\n            )}\n\n            {url !== undefined && (\n              <Thumbnail handleClose={onClose} image={url} id={image.id} />\n            )}\n            {image.state === 'uploading' && (\n              <LoadingIndicator\n                backgroundColor=\"rgba(255,255,255,0.1)\"\n                color=\"rgba(255,255,255,0.7)\"\n              />\n            )}\n          </div>\n        );\n      })}\n      {handleFiles && !disabled && (\n        <ThumbnailPlaceholder handleFiles={handleFiles} multiple={multiple} />\n      )}\n    </div>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}